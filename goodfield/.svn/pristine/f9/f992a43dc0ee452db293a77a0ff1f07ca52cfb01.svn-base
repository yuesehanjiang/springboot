{"version":3,"sources":["webpack:///./src/api/statistics.js","webpack:///src/views/user/statistics/Detail.vue","webpack:///./src/views/user/statistics/Detail.vue?174b","webpack:///./src/views/user/statistics/Detail.vue"],"names":["data","Object","__WEBPACK_IMPORTED_MODULE_0_utils_request__","method","url","headers","Content-Type","transformRequest","result","checkType","key","value","k","undefined","push","encodeURIComponent","hasOwnProperty","join","Detail","components","Breadcrumb","query","this","$route","defaultDay","Date","getTime","datetime","startTime","endTime","loading","isEmpty","listData","stores","stores_id","user_type","detail","keyword","token","computed","exportHref","user_id","id","pageNum","pageSize","assign","keys","map","v","watch","easyQuery","String","getList","mounted","tool","methods","handleSearch","utils_default","a","throttle","e","target","leading","dateChange","date","prevQuery","$router","path","_this","arguments","length","Promise","all","statistics","then","res","Number","code","countIndex","roles","size","$message","message","type","forEach","i","index","pageNumChange","pageSizeChange","statistics_Detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","tag","to","_v","directives","name","rawName","expression","transfer","placeholder","editable","on","on-change","clearable","_l","item","_s","stores_name","staticStyle","width","prefix","href","_e","text-align","header-cell-style","height","border","prop","label","total","current","page-size","show-sizer","show-elevator","show-total","on-page-size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.a8cc573cf3ce870863e9.js","sourcesContent":["import request from 'utils/request'\n\n// 入场人数统计\n// 查询入场人数统计\nexport function getStatistics (data) {\n  return request({\n    method: 'post',\n    url: '/goodfield/web/admission/getIdentityInfo',\n    data\n  })\n}\n\n// 查询入场人数统计详情\nexport function getStatisticsDetail (data) {\n  return request({\n    method: 'post',\n    url: '/goodfield/web/admission/getIdentityInfoDetails',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    data,\n    transformRequest: [function (data) {\n      let result = []\n      let checkType = function (key, value) {\n        if (value instanceof Object) {\n          for (let k in value) {\n            checkType(key + '[' + k + ']', value[k])\n          }\n        } else if (value !== undefined && value !== null) {\n          result.push(key + '=' + encodeURIComponent(value))\n        }\n      }\n      for (let key in data) {\n        if (data.hasOwnProperty(key)) {\n          checkType(key, data[key])\n        }\n      }\n      return result.join('&')\n    }]\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/statistics.js","<template>\n  <div class=\"screen-container\">\n    <Breadcrumb>\n      <router-link tag=\"li\" :to=\"'/user/statistics'\">入场人数统计</router-link>\n      <li>人次详情</li>\n    </Breadcrumb>\n    <!-- <div class=\"screen-empty\" v-if=\"isEmpty\">\n      <img src=\"~@/assets/empty_logo.gif\" alt=\"empty_logo\">\n      <p class=\"empty-title\">没有更多会员了</p>\n    </div> -->\n    <div class=\"screen-body\" v-loading=\"loading\">\n      <div class=\"screen-body-header\">\n        <DatePicker type=\"daterange\" size=\"default\" :transfer=\"false\" placeholder=\"选择日期\" class=\"query-date\"\n                    :editable='false' :value=\"datetime\" @on-change=\"dateChange\"/>\n        <Select size=\"default\" :clearable=\"true\" placeholder=\"全部门店\" :transfer=\"false\" class=\"query-select\"\n                :value=\"$route.query.stores_id\" @on-change=\"(value)=>{stores_id=value}\">\n          <Option v-for=\"(item) in stores\" :key=\"item.stores_id\" :value=\"item.stores_id\">{{item.stores_name}}</Option>\n        </Select>\n        <Select size=\"default\" :clearable=\"true\" placeholder=\"会员类型\" :transfer=\"false\" class=\"query-select\"\n                :value=\"$route.query.user_type||'1'\" @on-change=\"(value)=>{user_type=value}\">\n          <Option value=\"0\">曾会员</Option>\n          <Option value=\"1\">会员</Option>\n          <Option value=\"2\">非会员</Option>\n        </Select>\n        <Input size=\"default\" prefix=\"ios-search\" placeholder=\"姓名/ID/卡号搜索\" style=\"width: 200px\"\n               :value=\"$route.query.keyword\" @on-change=\"handleSearch\"/>\n        <a v-if=\"listData.data&&listData.data.length\" class=\"export-table\" :href=\"exportHref\">导出表格</a>\n        <div class=\"button-group\">\n          <button class=\"check-detail detail-3\">非会员：{{String(detail[2])}}人次</button>\n          <button class=\"check-detail detail-2\">曾会员：{{String(detail[1])}}人次</button>\n          <button class=\"check-detail detail-1\">会员：{{String(detail[0])}}人次</button>\n        </div>\n      </div>\n      <div class=\"screen-body-container\">\n        <el-table\n          :header-cell-style=\"{'text-align': 'center'}\"\n          style=\"text-align: center\"\n          height=\"100%\"\n          :data=\"listData.data\"\n          border>\n          <el-table-column\n            prop=\"index\"\n            width=\"70\"\n            label=\"序号\">\n          </el-table-column>\n          <el-table-column\n            prop=\"stores_name\"\n            label=\"门店\">\n          </el-table-column>\n          <el-table-column\n            prop=\"user_name\"\n            label=\"会员姓名\">\n          </el-table-column>\n          <el-table-column\n            prop=\"user_id\"\n            label=\"会员ID\">\n          </el-table-column>\n          <el-table-column\n            prop=\"user_card\"\n            label=\"卡号\">\n          </el-table-column>\n          <el-table-column\n            prop=\"user_in_time\"\n            label=\"入场时间\">\n          </el-table-column>\n        </el-table>\n      </div>\n      <div v-if='!isEmpty' class=\"screen-body-footer\">\n        <Page\n          :total=\"Number(listData.total)\"\n          :current=\"Number(listData.pageNum)+1\"\n          :page-size=\"Number(listData.pageSize)\"\n          show-sizer show-elevator show-total :transfer=\"false\"\n          @on-change=\"pageNumChange\"\n          @on-page-size-change=\"pageSizeChange\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Breadcrumb from 'views/user/components/Breadcrumb'\nimport { getToken } from 'utils/tool'\nimport Utils from 'utils/utils'\nimport { getStatisticsDetail, getStatistics } from 'api/statistics'\n\nexport default {\n  components: {Breadcrumb},\n  data () {\n    let {query} = this.$route\n    this.defaultDay = new Date(new Date().getTime() - 24 * 60 * 60 * 1000)\n    let datetime = ['', '']\n    if (query.datetime) {\n      datetime = [query.datetime, query.datetime]\n    } else if (query.startTime && query.endTime) {\n      datetime = [query.startTime, query.endTime]\n    }\n    return {\n      loading: true,\n      isEmpty: false,\n      listData: {},\n      stores: [],\n      datetime: datetime,\n      stores_id: '',\n      user_type: '',\n      detail: ['0', '0', '0'],\n      keyword: '',\n      token: {}\n    }\n  },\n  computed: {\n    exportHref () {\n      let data = {\n        user_id: this.token.id,\n        pageNum: '0',\n        pageSize: '10',\n        user_type: '1'\n      }\n      let query = Object.assign({}, data, this.$route.query)\n      delete query['pageNum']\n      delete query['pageSize']\n      return '/goodfield/web/admission/export?' + Object.keys(query).map(v => v + '=' + (query[v] || '')).join('&')\n    }\n  },\n  watch: {\n    stores_id: function (value) {\n      this.easyQuery({\n        pageNum: 0,\n        stores_id: value === undefined ? '' : String(value)\n      })\n    },\n    user_type: function (value) {\n      this.easyQuery({\n        pageNum: 0,\n        user_type: value === undefined ? '' : String(value)\n      })\n    },\n    keyword: function (value) {\n      this.easyQuery({\n        pageNum: 0,\n        keyword: value === undefined ? '' : String(value)\n      })\n    },\n    '$route': function (value) {\n      let {query} = value\n      this.getList(Object.assign({}, query))\n      if (query.datetime) {\n        this.datetime = [query.datetime, query.datetime]\n      } else if (query.startTime && query.endTime) {\n        this.datetime = [query.startTime, query.endTime]\n      }\n    }\n  },\n  mounted () {\n    this.token = getToken()\n    let {query} = this.$route\n    this.getList(Object.assign({}, query))\n  },\n  methods: {\n    handleSearch: Utils.throttle(function (e) {\n      this.keyword = e.target.value\n    }, 1000, {leading: false}),\n    dateChange (date) {\n      if (date[0] === date[1]) {\n        this.easyQuery({\n          pageNum: 0,\n          datetime: date[0],\n          startTime: '',\n          endTime: ''\n        })\n      } else {\n        this.easyQuery({\n          pageNum: 0,\n          datetime: '',\n          startTime: date[0],\n          endTime: date[1]\n        })\n      }\n    },\n    easyQuery (data) {\n      let prevQuery = this.$route.query\n      let query = Object.assign({}, prevQuery, data)\n      this.$router.push({path: this.$route.path, query})\n    },\n    getList (data = {}) {\n      this.loading = true\n      data['user_id'] = this.token.id\n      data['pageNum'] = data['pageNum'] || '0'\n      data['pageSize'] = data['pageSize'] || '10'\n      data['user_type'] = data['user_type'] || '1'\n      if (!data['startTime'] && !data['endTime'] && !data['datetime']) {\n        data['datetime'] = ''\n      }\n      Promise.all([getStatisticsDetail(data), getStatistics(data)]).then(res => {\n        if (Number(res[0].code) === 200 && Number(res[1].code) === 200) {\n          this.isEmpty = false\n          this.listData = this.countIndex(res[0])\n          this.stores = res[0].roles\n          this.detail = res[0].size\n        } else if (Number(res[0].code) === 201) {\n          this.stores = res[0].data\n          this.isEmpty = true\n          this.listData = {}\n          this.detail = ['0', '0', '0']\n        } else if (Number(res[0].code) !== 200) {\n          this.isEmpty = true\n          this.listData = {}\n          this.detail = ['0', '0', '0']\n          this.$message({\n            message: res[0].message,\n            type: 'error'\n          })\n        } else {\n          this.detail = ['0', '0', '0']\n          this.isEmpty = true\n          this.$message({\n            message: res[1].message,\n            type: 'error'\n          })\n        }\n        this.loading = false\n      })\n    },\n    countIndex (res) {\n      let {pageSize, pageNum, data} = res\n      data.forEach((v, i) => {\n        v.index = (pageSize * pageNum) + i + 1\n      })\n      return res\n    },\n    pageNumChange (pageNum) {\n      this.easyQuery({\n        pageNum: String(pageNum - 1)\n      })\n    },\n    pageSizeChange (pageSize) {\n      this.easyQuery({\n        pageNum: String(0),\n        pageSize: pageSize\n      })\n    }\n  }\n}\n</script>\n<style lang='stylus' scoped>\n  .screen-container\n    height 100%\n    width 100%\n    display flex\n    flex-direction column\n\n  .screen-empty\n    flex 1\n    display flex\n    justify-content center\n    align-items center\n    flex-direction column\n\n  .empty-title\n    font-size 12px\n    color #b1b1b1\n    margin-top 10px\n    > a\n      color #24CF5F\n\n  .screen-body\n    flex 1\n    display flex\n    flex-direction column\n    align-items center\n\n  .screen-body-header\n    height 74px\n    display flex\n    flex-direction row\n    padding-left 30px\n    width 100%\n    align-items center\n\n  .screen-body-container\n    flex 1\n    width 100%\n    overflow auto\n\n  .screen-body-footer\n    padding-right 20px\n    height 60px\n    width 100%\n    display: flex\n    justify-content flex-end\n    align-items center\n\n  .operate-btn-group\n    display flex\n    flex-direction row\n    justify-content center\n    padding 2px 0\n\n  .operate-btn\n    width: 24px;\n    height: 24px;\n    background: #FFFFFF;\n    box-shadow: 0px 1px 2px 0px rgba(102, 102, 102, 0.2);\n    border-radius 50%\n    display: flex\n    align-items center\n    justify-content center\n    border none\n    outline none\n    i\n      display inline-block\n      background-size 100% 100%\n      width 10px\n      height 10px\n    &.edit-btn\n      margin-right 20px\n      &:hover\n        background #3ED572\n        i\n          background url('~@/assets/white_edit.png') no-repeat center\n      i\n        background url('~@/assets/black_edit.png') no-repeat center\n    &.delete-btn\n      &:hover\n        background #F1524A\n        i\n          background url('~@/assets/white_delete.png') no-repeat center\n      i\n        background url('~@/assets/black_delete.png') no-repeat center\n\n  .greetings-member\n    color #2162D2\n    margin 0 10px\n\n  .user-avatar\n    width 24px\n    height 24px\n    border 1px solid #e8e8e8\n\n  .query-select\n    width 200px\n    margin-right 20px\n\n  .query-date\n    width 200px\n    margin-right 20px\n\n  .button-group\n    flex 1\n    display flex\n    flex-direction row-reverse\n\n  .check-detail\n    width: 120px;\n    height: 32px;\n    border-radius: 4px;\n    text-align center\n    border none\n    color white\n    font-size 14px\n    margin-right 30px\n    &.detail-1\n      background: rgba(36, 207, 95, 0.9);\n      box-shadow: 0px 0px 2px 0px rgba(36, 207, 95, 1);\n    &.detail-2\n      background: rgba(241, 82, 74, 0.9);\n      box-shadow: 0px 0px 2px 0px rgba(241, 82, 74, 1);\n    &.detail-3\n      background: rgba(33, 126, 230, 0.9);\n      box-shadow: 0px 0px 2px 0px rgba(33, 126, 230, 1);\n\n  .export-table\n    text-align center\n    display inline-block\n    min-width 32px\n    margin 0 19px\n    color #2162d2\n    cursor pointer\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/statistics/Detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"screen-container\"},[_c('Breadcrumb',[_c('router-link',{attrs:{\"tag\":\"li\",\"to\":'/user/statistics'}},[_vm._v(\"入场人数统计\")]),_vm._v(\" \"),_c('li',[_vm._v(\"人次详情\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"screen-body\"},[_c('div',{staticClass:\"screen-body-header\"},[_c('DatePicker',{staticClass:\"query-date\",attrs:{\"type\":\"daterange\",\"size\":\"default\",\"transfer\":false,\"placeholder\":\"选择日期\",\"editable\":false,\"value\":_vm.datetime},on:{\"on-change\":_vm.dateChange}}),_vm._v(\" \"),_c('Select',{staticClass:\"query-select\",attrs:{\"size\":\"default\",\"clearable\":true,\"placeholder\":\"全部门店\",\"transfer\":false,\"value\":_vm.$route.query.stores_id},on:{\"on-change\":function (value){_vm.stores_id=value}}},_vm._l((_vm.stores),function(item){return _c('Option',{key:item.stores_id,attrs:{\"value\":item.stores_id}},[_vm._v(_vm._s(item.stores_name))])})),_vm._v(\" \"),_c('Select',{staticClass:\"query-select\",attrs:{\"size\":\"default\",\"clearable\":true,\"placeholder\":\"会员类型\",\"transfer\":false,\"value\":_vm.$route.query.user_type||'1'},on:{\"on-change\":function (value){_vm.user_type=value}}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"曾会员\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"1\"}},[_vm._v(\"会员\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"非会员\")])],1),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"default\",\"prefix\":\"ios-search\",\"placeholder\":\"姓名/ID/卡号搜索\",\"value\":_vm.$route.query.keyword},on:{\"on-change\":_vm.handleSearch}}),_vm._v(\" \"),(_vm.listData.data&&_vm.listData.data.length)?_c('a',{staticClass:\"export-table\",attrs:{\"href\":_vm.exportHref}},[_vm._v(\"导出表格\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"button-group\"},[_c('button',{staticClass:\"check-detail detail-3\"},[_vm._v(\"非会员：\"+_vm._s(String(_vm.detail[2]))+\"人次\")]),_vm._v(\" \"),_c('button',{staticClass:\"check-detail detail-2\"},[_vm._v(\"曾会员：\"+_vm._s(String(_vm.detail[1]))+\"人次\")]),_vm._v(\" \"),_c('button',{staticClass:\"check-detail detail-1\"},[_vm._v(\"会员：\"+_vm._s(String(_vm.detail[0]))+\"人次\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"screen-body-container\"},[_c('el-table',{staticStyle:{\"text-align\":\"center\"},attrs:{\"header-cell-style\":{'text-align': 'center'},\"height\":\"100%\",\"data\":_vm.listData.data,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"index\",\"width\":\"70\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stores_name\",\"label\":\"门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_name\",\"label\":\"会员姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_id\",\"label\":\"会员ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_card\",\"label\":\"卡号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_in_time\",\"label\":\"入场时间\"}})],1)],1),_vm._v(\" \"),(!_vm.isEmpty)?_c('div',{staticClass:\"screen-body-footer\"},[_c('Page',{attrs:{\"total\":Number(_vm.listData.total),\"current\":Number(_vm.listData.pageNum)+1,\"page-size\":Number(_vm.listData.pageSize),\"show-sizer\":\"\",\"show-elevator\":\"\",\"show-total\":\"\",\"transfer\":false},on:{\"on-change\":_vm.pageNumChange,\"on-page-size-change\":_vm.pageSizeChange}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d72e1950\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/statistics/Detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d72e1950\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d72e1950\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d72e1950\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/statistics/Detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}