{"version":3,"sources":["webpack:///src/views/login/Outer.vue","webpack:///./src/views/login/Outer.vue?bb5c","webpack:///./src/views/login/Outer.vue","webpack:///src/views/login/Password.vue","webpack:///./src/views/login/Password.vue?8eac","webpack:///./src/views/login/Password.vue"],"names":["Outer","props","data","activeTab","this","$props","initType","tabs","text","type","scale","computed","transform","mounted","window","onresize","utils_default","a","throttle","destroyed","methods","checkScale","document","body","clientWidth","changeTabItem","e","disable","parseInt","target","dataset","$emit","login_Outer","render","_vm","_h","$createElement","_c","_self","staticClass","style","_t","_v","on","click","_l","item","index","directives","name","rawName","value","Number","expression","key","attrs","data-type","_s","class","active","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Password","components","Toast","form","mobilePhone","captcha","newPassword","confirmPassword","sendSmsTips","sendSmsStatus","loading","toastStatus","toastData","count","deactivated","timer","beforeCreate","$route","query","$router","replace","path","validatePhone","tipsMessage","validate","isPhone","setToastData","message","sendSms","_this","phone","common","cutdownTime","then","res","code","codde","setTimeout","clearTimeout","validateForm","isNullString","test","submit","_this2","password","admin","user","callback","push","_ref","_this3","$set","login_Password","$event","go","href","for","staticStyle","width","size","id","placeholder","clearable","model","$$v","_e"],"mappings":"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","file":"static/js/1.cb981c4bd9da36b75415.js","sourcesContent":["<template>\n  <div class='login'>\n    <div class='login-inner' :style=\"{transform:transform}\">\n      <slot></slot>\n      <div @click='changeTabItem' class=\"tabs\">\n        <template v-if=\"this.$props.disable\">\n          <template v-for=\"(item, index) in tabs\">\n            <div :data-type=\"item.type\" :key='index' class='tab-item active' v-show=\"Number(activeTab)===item.type\">\n              {{item.text}}\n            </div>\n          </template>\n        </template>\n        <template v-else>\n          <div :data-type=\"item.type\" :key='index' v-for=\"(item, index) in tabs\"\n               class='tab-item' :class=\"{active: Number(activeTab)===item.type}\">\n            {{item.text}}\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Utils from 'utils/utils'\n\nexport default {\n  props: ['initType', 'disable'],\n  data () {\n    return {\n      activeTab: this.$props.initType,\n      tabs: [{\n        text: '管理员',\n        type: 0\n      }, {\n        text: '用户',\n        type: 1\n      }],\n      scale: 1\n    }\n  },\n  computed: {\n    transform: function () {\n      return `scale(${this.scale},${this.scale})`\n    }\n  },\n  mounted () {\n    // 停用缩放\n    // this.checkScale()\n    window.onresize = Utils.throttle(() => {\n      // this.checkScale()\n    }, 300)\n  },\n  destroyed () {\n    window.onresize = null\n  },\n  methods: {\n    checkScale () {\n      let scale = document.body.clientWidth / 1600\n      scale = scale > 1 ? scale : 1\n      this.scale = scale\n    },\n    // 改变tabs的状态\n    changeTabItem (e) {\n      if (this.$props.disable) {\n        return\n      }\n      let type = parseInt(e.target.dataset.type)\n      this.activeTab = type\n      this.$emit('change', type)\n    }\n  }\n}\n</script>\n\n<style lang='stylus' scoped>\n  .login\n    font-size 14px\n    height 100vh\n    width 100vw\n    background url('~@/assets/bg.png') no-repeat center\n    background-size cover\n    overflow hidden\n\n  .login-inner\n    transition: transform 0.2s;\n    position absolute\n    margin auto\n    left 0\n    right 0\n    bottom 0\n    top 0\n    height 468px\n    width 800px\n    box-shadow 0px 0px 10px rgba(36, 207, 95, .3)\n\n  .tabs\n    position absolute\n    top 30px\n    right -30px\n    width 30px\n    font-size 15px\n    cursor pointer\n\n  .tab-item\n    padding 8px 4px\n    height 80px\n    width 30px\n    border-bottom-right-radius 8px\n    border-top-right-radius 8px\n    box-sizing border-box\n    text-align center\n    transition all .7s\n    color #A1A1A1\n    background-color #EAEAEA\n    &:last-child\n      padding-top 19px\n    &.active\n      box-shadow 2px 2px 5px rgba(36, 207, 95, .6)\n      color #ffffff\n      background-color rgba(36, 207, 95, 1)\n</style>\n<style lang=\"stylus\">\n  .login-form-logo\n    margin 40px auto\n    height 0\n    padding-bottom 102px\n    width 102px\n    background url('~@/assets/home_logo.png') no-repeat center center\n    background-size cover\n\n  .submit-button\n    height 40px\n    line-height 40px\n    width 300px\n    text-align center\n    border-radius 80px\n    color #ffffff\n    background-color #24CF5F\n    cursor pointer\n\n  .input-container\n    margin 0 auto 30px\n    text-align center\n    // 覆盖iview input的padding-left\n    .ivu-input\n      padding-left 15px\n\n  .label\n    margin-right 20px\n    width 100px\n    text-align right\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/Outer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-inner\",style:({transform:_vm.transform})},[_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"tabs\",on:{\"click\":_vm.changeTabItem}},[(this.$props.disable)?[_vm._l((_vm.tabs),function(item,index){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(Number(_vm.activeTab)===item.type),expression:\"Number(activeTab)===item.type\"}],key:index,staticClass:\"tab-item active\",attrs:{\"data-type\":item.type}},[_vm._v(\"\\n            \"+_vm._s(item.text)+\"\\n          \")])]})]:_vm._l((_vm.tabs),function(item,index){return _c('div',{key:index,staticClass:\"tab-item\",class:{active: Number(_vm.activeTab)===item.type},attrs:{\"data-type\":item.type}},[_vm._v(\"\\n          \"+_vm._s(item.text)+\"\\n        \")])})],2)],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36c643a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/Outer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36c643a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Outer.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36c643a6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Outer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Outer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Outer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36c643a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Outer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36c643a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/Outer.vue\n// module id = null\n// module chunks = ","<template>\n  <outer v-bind:initType=\"this.$route.query.type\" v-bind:disable=\"true\">\n    <p class=\"back-login\" @click=\"$router.go(-1)\">\n      <a href=\"javascript:void(0)\">返回登录页</a>\n    </p>\n    <div class='form'>\n      <div class=\"login-form-logo\"></div>\n      <div class=\"input-container\">\n        <label class=\"label\" for=\"mobilePhone\">手机号码</label>\n        <Input size='default' id=\"mobilePhone\" v-model=\"form.mobilePhone\"\n               placeholder=\"手机号码必须是11位\"\n               clearable style=\"width: 300px\"/>\n        <span @click='sendSms' :class='{active: sendSmsStatus}' class='send-code'>{{sendSmsTips}}</span>\n      </div>\n      <div class=\"input-container\">\n        <label class=\"label\" for=\"captcha\">验证码</label>\n        <Input size='default' id=\"captcha\"\n               v-model=\"form.captcha\" placeholder=\"验证码必须是6位\"\n               clearable style=\"width: 300px\"/>\n      </div>\n      <div class=\"input-container\">\n        <label class=\"label\" for=\"newPassword\">新密码</label>\n        <Input type=\"password\" size='default' id=\"newPassword\" v-model=\"form.newPassword\"\n               placeholder=\"密码由 8 - 20 位字母和数字组成\"\n               clearable style=\"width: 300px\"/>\n      </div>\n      <div class=\"input-container\">\n        <label class=\"label\" for=\"confirmPassword\">确认新密码</label>\n        <Input size='default' type=\"password\"\n               id=\"confirmPassword\" v-model=\"form.confirmPassword\" placeholder=\"请确认密码\"\n               clearable style=\"width: 300px\"/>\n      </div>\n      <div @click='submit' :class=\"{loading: loading}\" class=\"submit-button\">保存</div>\n    </div>\n    <toast\n      v-if='toastStatus'\n      :message='toastData.message'\n      :type='toastData.type'>\n    </toast>\n  </outer>\n</template>\n\n<script>\nimport Validate from 'utils/validate'\nimport { sendAdminSms, sendUserSms } from 'api/common'\nimport { updateAdminPwd } from 'api/admin'\nimport { changeUserPwd } from 'api/user'\n\nimport Outer from './Outer'\nimport Toast from 'components/Toast'\n\nexport default {\n  components: { Outer, Toast },\n  data () {\n    return {\n      // 请求表单\n      form: {\n        mobilePhone: '',\n        captcha: '',\n        newPassword: '',\n        confirmPassword: ''\n      },\n      sendSmsTips: '发送验证码',\n      sendSmsStatus: false,\n      loading: false, // 发起提交请求\n      toastStatus: false,\n      toastData: {},\n      count: 60 // 倒计时60秒\n    }\n  },\n  deactivated () {\n    this.timer = null\n  },\n  beforeCreate () {\n    let type = Number(this.$route.query.type)\n    if ((type !== 0) && (type !== 1)) {\n      this.$router.replace({path: '/login'})\n    }\n  },\n  methods: {\n    validatePhone () {\n      let tipsMessage = ''\n      if (!Validate.isPhone(this.form.mobilePhone)) {\n        tipsMessage = '手机号码不正确'\n      }\n      if (tipsMessage) {\n        this.setToastData({\n          message: tipsMessage,\n          type: 'fail'\n        })\n      }\n      return !tipsMessage\n    },\n    // 获取验证码\n    sendSms () {\n      if (!this.sendSmsStatus && this.validatePhone()) {\n        this.sendSmsStatus = true\n        let form = {\n          phone: this.form.mobilePhone\n        }\n        if (Number(this.$route.query.type) === 0) {\n          form['enterprise_name'] = '1'\n        }\n        let sendSms = this.$route.query.type ? sendUserSms : sendAdminSms\n        this.cutdownTime()\n        sendSms(form).then(res => {\n          if (res.code === '200') {\n            this.setToastData({\n              message: res.message\n            })\n          } else if (res.codde === '205') {\n            this.setToastData({\n              message: res.message,\n              type: 'fail'\n            })\n          } else {\n            this.setToastData({\n              message: res.message,\n              type: 'fail'\n            })\n          }\n        })\n      }\n    },\n    cutdownTime () {\n      this.sendSmsTips = `倒计时${this.count}秒`\n      this.count = this.count - 1\n      this.timer = setTimeout(this.cutdownTime, 1000)\n      if (this.count < 0) {\n        this.sendSmsTips = '发送验证码'\n        this.count = 60\n        this.sendSmsStatus = false\n        clearTimeout(this.timer)\n      }\n    },\n    validateForm () {\n      let tipsMessage = ''\n      if (!Validate.isPhone(this.form.mobilePhone)) {\n        tipsMessage = '手机号码不正确'\n      } else if (Validate.isNullString(this.form.captcha)) {\n        tipsMessage = '验证码不能为空'\n      } else if (!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/.test(this.form.newPassword)) {\n        tipsMessage = '密码由 8 - 20 位字母和数字组成'\n      } else if (this.form.confirmPassword !== this.form.newPassword) {\n        tipsMessage = '两次密码不一致'\n      }\n      if (tipsMessage) {\n        this.setToastData({\n          message: tipsMessage,\n          type: 'fail'\n        })\n      }\n      return !tipsMessage\n    },\n    submit () {\n      if (!this.loading && this.validateForm()) {\n        this.loading = true\n        let form = {\n          phone: this.form.mobilePhone,\n          code: this.form.captcha,\n          password: this.form.newPassword,\n          newPassword: this.form.confirmPassword\n        }\n        let update = Number(this.$route.query.type) === 0 ? updateAdminPwd : changeUserPwd\n        update(form).then(res => {\n          this.loading = false\n          if (res.code === '200') {\n            this.setToastData({\n              message: res.message,\n              type: 'success',\n              callback: () => {\n                this.$router.push({path: '/login'})\n              }\n            })\n          } else {\n            this.setToastData({\n              message: res.message,\n              type: 'fail'\n            })\n          }\n        }, () => {\n          this.loading = false\n          this.setToastData({\n            message: '保存失败，请重试',\n            type: 'fail'\n          })\n        })\n      }\n    },\n    setToastData ({message, type, callback}) {\n      this.toastStatus = true\n      this.$set(this.toastData, 'message', message)\n      this.$set(this.toastData, 'type', type)\n      setTimeout(() => {\n        this.toastStatus = false\n        if (typeof callback === 'function') {\n          callback()\n        }\n      }, 1200)\n    }\n  }\n}\n</script>\n\n<style lang='stylus' scoped>\n  .back-login\n    margin 20px 20px 0 20px\n    padding-left 20px\n    width 130px\n    font-size 12px\n    color #999\n    background url('~@/assets/home_return.png') left center no-repeat\n    cursor pointer\n\n  .form\n    margin -20px 0 0 200px\n    width 580px\n    .login-form-logo\n      margin -20px 0 20px 180px\n\n  .input-container\n    text-align left\n    .label\n      display inline-block\n      width 80px\n      text-align right\n\n  .send-code\n    display inline-block\n    margin-left 10px\n    padding 0 10px\n    height 30px\n    line-height 30px\n    text-align center\n    border-radius 4px\n    color #fff\n    background-color rgba(36, 207, 95, 1)\n    cursor pointer\n    &.active\n      background-color #bbb\n\n  .submit-button\n    margin-left 105px\n    &.loading\n      background #bbb url('~@/assets/loading.gif') no-repeat 60%\n      background-size 12px 12px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/Password.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('outer',{attrs:{\"initType\":this.$route.query.type,\"disable\":true}},[_c('p',{staticClass:\"back-login\",on:{\"click\":function($event){_vm.$router.go(-1)}}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_vm._v(\"返回登录页\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"login-form-logo\"}),_vm._v(\" \"),_c('div',{staticClass:\"input-container\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"mobilePhone\"}},[_vm._v(\"手机号码\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"size\":\"default\",\"id\":\"mobilePhone\",\"placeholder\":\"手机号码必须是11位\",\"clearable\":\"\"},model:{value:(_vm.form.mobilePhone),callback:function ($$v) {_vm.$set(_vm.form, \"mobilePhone\", $$v)},expression:\"form.mobilePhone\"}}),_vm._v(\" \"),_c('span',{staticClass:\"send-code\",class:{active: _vm.sendSmsStatus},on:{\"click\":_vm.sendSms}},[_vm._v(_vm._s(_vm.sendSmsTips))])],1),_vm._v(\" \"),_c('div',{staticClass:\"input-container\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"captcha\"}},[_vm._v(\"验证码\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"size\":\"default\",\"id\":\"captcha\",\"placeholder\":\"验证码必须是6位\",\"clearable\":\"\"},model:{value:(_vm.form.captcha),callback:function ($$v) {_vm.$set(_vm.form, \"captcha\", $$v)},expression:\"form.captcha\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"input-container\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"newPassword\"}},[_vm._v(\"新密码\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"password\",\"size\":\"default\",\"id\":\"newPassword\",\"placeholder\":\"密码由 8 - 20 位字母和数字组成\",\"clearable\":\"\"},model:{value:(_vm.form.newPassword),callback:function ($$v) {_vm.$set(_vm.form, \"newPassword\", $$v)},expression:\"form.newPassword\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"input-container\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"confirmPassword\"}},[_vm._v(\"确认新密码\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"size\":\"default\",\"type\":\"password\",\"id\":\"confirmPassword\",\"placeholder\":\"请确认密码\",\"clearable\":\"\"},model:{value:(_vm.form.confirmPassword),callback:function ($$v) {_vm.$set(_vm.form, \"confirmPassword\", $$v)},expression:\"form.confirmPassword\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"submit-button\",class:{loading: _vm.loading},on:{\"click\":_vm.submit}},[_vm._v(\"保存\")])]),_vm._v(\" \"),(_vm.toastStatus)?_c('toast',{attrs:{\"message\":_vm.toastData.message,\"type\":_vm.toastData.type}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57ccd798\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/Password.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57ccd798\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Password.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Password.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Password.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57ccd798\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Password.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-57ccd798\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/Password.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}