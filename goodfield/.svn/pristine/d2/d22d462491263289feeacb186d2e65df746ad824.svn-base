{"version":3,"sources":["webpack:///src/views/user/audit_report/List.vue","webpack:///./src/views/user/audit_report/List.vue?8d6a","webpack:///./src/views/user/audit_report/List.vue"],"names":["List","components","Modal","Toast","GPagination","Pagination","TableImage","data","listData","storeList","isNullList","isNull","title","startTime","endTime","stores_id","datetime","keyword","isNoPower","date","loading","paganition","toastStatus","toastData","userData","filters","filtersAppoint","value","computed","exportHref","user_id","this","id","query","Object","assign","$route","keys","map","v","join","watch","getListData","easyQuery","pageNum","beforeCreate","_$route$query","pageSize","is","undefined","$router","replace","path","mounted","tool","$store","state","userMenuStatus","audit_report","setUserMenuStatus","methods","_extends","external__Vuex_","arguments","length","prevQuery","push","changeCurrentPage","_ref","changeCurrentSize","_ref2","inputContent","utils_default","a","throttle","leading","_this","form","storeId","then","res","code","handleListData","handleStoreList","roles","parseInt","currentPage","total","setToastData","message","type","catch","_$route$query2","forEach","item","index","newStoreList","storeName","newStoreItem","stores_name","changeDatePicker","dateArr","_dateArr","_slicedToArray","navigateToEditPicture","userId","operation","navigateToNotMemberPicture","_ref3","_this2","callback","$set","setTimeout","audit_report_List","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","expression","staticClass","_m","_v","attrs","src","__webpack_require__","alt","staticStyle","width","editable","clearable","size","transfer","placement","placeholder","on","on-change","model","$$v","_l","key","_s","label","input","slot","href","_e","click","border","prop","align","scopedSlots","_u","fn","scope","row","table-image-url","user_pic","pic_path","$event","flag","appoint","valid_member","page-size","current-page","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/27.d28ed88c01b065c0e8fd.js","sourcesContent":["<template>\n  <div v-loading=\"loading\" class=\"list list-special\">\n    <div class=\"list-header frsc\">\n      <div class=\"list-title\">稽核报告</div>\n    </div>\n    <div class=\"screen-empty\" v-if=\"isNoPower\">\n      <img src=\"~@/assets/empty_logo.gif\" alt=\"empty_logo\">\n      <p class=\"empty-title\">没有模块权限，请与管理员确认</p>\n    </div>\n    <div v-else>\n      <div class=\"list-header list-header-second\">\n        <div class='list-header-left'>\n          <div class=\"list-header-select-container\">\n            <DatePicker\n              v-model=\"date\"\n              :editable=\"false\"\n              :clearable='true'\n              @on-change='changeDatePicker'\n              style='width: 260px'\n              size='large' type=\"daterange\" transfer\n              placement=\"bottom-end\" placeholder=\"选择日期\"/>\n          </div>\n          <div class=\"list-header-select-container\">\n            <Select\n              size='large'\n              transfer\n              :clearable='true'\n              v-model=\"stores_id\"\n              placeholder='门店'\n              style=\"width:200px\">\n              <Option\n                v-for=\"item in storeList\"\n                :value=\"item.storeId\"\n                :key=\"item.storeId\">{{ item.storeName }}\n              </Option>\n            </Select>\n          </div>\n          <div class=\"list-header-select-container\">\n            <Select\n              size='large'\n              transfer\n              :clearable='true'\n              v-model=\"isNull\"\n              placeholder='识别状态'\n              style=\"width:120px\">\n              <Option\n                v-for=\"item in isNullList\"\n                :value=\"item.isNull\"\n                :label='item.title'\n                :key=\"item.title\">\n              </Option>\n            </Select>\n          </div>\n          <div class=\"list-header-input-container\">\n            <i-input\n              style='width: 220px'\n              @input='inputContent'\n              :clearable='true'\n              size='large'\n              v-model='keyword'\n              placeholder=\"姓名/会员ID/卡号搜索\"\n            >\n              <Icon type='ios-search-outline' slot='prefix'/>\n            </i-input>\n          </div>\n          <a v-if=\"listData.length\" class=\"export-table\" :href=\"exportHref\">导出表格</a>\n        </div>\n        <div class=\"list-header-right\">\n          <span @click=\"navigateToNotMemberPicture\" class='list-header-right-button'>非会员图像库</span>\n        </div>\n      </div>\n      <el-table\n        class=\"audit-report\"\n        :data=\"listData\"\n        border\n        style=\"width: 100%;\">\n        <el-table-column\n          prop=\"index\"\n          label=\"序号\"\n          align='center'\n          width=\"65\">\n        </el-table-column>\n        <el-table-column\n          width='160'\n          prop=\"user_in_time\"\n          align='center'\n          label=\"刷卡时间\">\n        </el-table-column>\n        <el-table-column\n          prop=\"stores_name\"\n          align='center'\n          label=\"门店\">\n        </el-table-column>\n        <el-table-column\n          prop=\"user_name\"\n          align='center'\n          label=\"会员名称\">\n        </el-table-column>\n        <el-table-column\n          prop=\"user_id\"\n          align='center'\n          label=\"会员ID\">\n        </el-table-column>\n        <el-table-column\n          prop=\"user_card\"\n          align='center'\n          label=\"卡号\">\n        </el-table-column>\n        <el-table-column\n          prop=\"user_pic\"\n          align='center'\n          label=\"头像\">\n          <template slot-scope=\"scope\">\n            <table-image v-if='scope.row.user_pic' :table-image-url=\"scope.row.user_pic\">\n              <img class='table-pic' :src=\"scope.row.user_pic\" alt=\"图像\">\n            </table-image>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"running_water\"\n          align='center'\n          label=\"入场流水号\">\n        </el-table-column>\n        <el-table-column\n          prop=\"distinguish_id\"\n          align='center'\n          label=\"识别ID\">\n        </el-table-column>\n        <el-table-column\n          prop=\"pic_path\"\n          align='center'\n          label=\"图像\">\n          <template slot-scope=\"scope\">\n            <div class=\"edit-image-cell\">\n              <table-image\n                v-if='scope.row.pic_path && !Object.is(scope.row.pic_path, \"-/-\")'\n                :table-image-url=\"scope.row.pic_path\">\n                <img\n                  class='table-pic'\n                  :src=\"scope.row.pic_path\" alt=\"图像\">\n              </table-image>\n              <span v-else @click=\"navigateToEditPicture(scope.row.user_id, 'add', scope.row.id)\"\n                    class='edit-pic'>调整图像</span>\n              <span v-if=\"scope.row.pic_path && scope.row.flag === '0'\"\n                    @click=\"navigateToEditPicture(scope.row.user_id, 'edit', scope.row.id)\" class=\"edit-icon\"></span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"appoint\"\n          align='center'\n          label=\"约课情况\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.appoint === '1'\">是</span>\n            <span v-else>否</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"valid_member\"\n          align='center'\n          label=\"是否有效会员\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.valid_member === '1'\">是</span>\n            <span v-else>否</span>\n          </template>\n        </el-table-column>\n      </el-table>\n      <g-pagination\n        v-if=\"listData.length\"\n        @changeCurrentPage='changeCurrentPage'\n        @changeCurrentSize='changeCurrentSize'\n        :total='paganition.total'\n        :page-size='paganition.pageSize'\n        :current-page='paganition.currentPage'>\n      </g-pagination>\n    </div>\n    <toast\n      v-if='toastStatus'\n      :message='toastData.message'\n      :type='toastData.type'>\n    </toast>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport { getAuditReportInfo, cancelStatus } from 'api/audit_report'\nimport { getToken } from 'utils/tool'\n\nimport TableImage from '../components/TableImage'\nimport Modal from 'components/Modal'\nimport Toast from 'components/Toast'\nimport GPagination from 'components/Pagination'\nimport Utils from 'utils/utils'\n\nexport default {\n  components: {Modal, Toast, GPagination, TableImage},\n  data () {\n    return {\n      // 服务器数据\n      listData: [], // 数据\n      storeList: [], // 门店数据\n      isNullList: [{\n        isNull: '',\n        title: '全部'\n      }, {\n        isNull: '0',\n        title: '未识别'\n      }, {\n        isNull: '1',\n        title: '已识别'\n      }],\n      startTime: '',\n      endTime: '',\n      stores_id: '',\n      datetime: '',\n      isNull: '',\n      keyword: '',\n      isNoPower: false,\n      date: ['', ''],\n      loading: false, // 是否正在加载数据\n      paganition: {},\n      // toast\n      toastStatus: false,\n      toastData: {},\n      userData: {}\n    }\n  },\n  filters: {\n    filtersAppoint (value) {\n      if (value === 0) {\n        return '否'\n      } else {\n        return '是'\n      }\n    }\n  },\n  computed: {\n    exportHref () {\n      let data = {\n        user_id: this.userData.id\n      }\n      let query = Object.assign({}, data, this.$route.query)\n      delete query['pageNum']\n      delete query['pageSize']\n      return '/goodfield/web/auditreport/export?' + Object.keys(query).map(v => v + '=' + (query[v] || '')).join('&')\n    }\n  },\n  watch: {\n    '$route': function () {\n      this.getListData(Object.assign({}, this.$route.query))\n    },\n    'stores_id': function () {\n      this.easyQuery({\n        stores_id: this.stores_id,\n        pageNum: 0\n      })\n    },\n    'isNull': function () {\n      this.easyQuery({\n        pageNum: 0,\n        isNull: this.isNull\n      })\n    }\n  },\n  beforeCreate () {\n    let {pageNum, pageSize, startTime, endTime, keyword, isNull, stores_id} = this.$route.query // eslint-disable-line\n    if (Object.is(isNull, undefined) && Object.is(keyword, undefined) && Object.is(stores_id, undefined) && Object.is(pageNum, undefined) && Object.is(pageSize, undefined) && Object.is(startTime, undefined) && Object.is(endTime, undefined)) {\n      this.$router.replace({\n        path: this.$route.path,\n        query: {\n          pageNum: 0,\n          pageSize: 10,\n          startTime: '',\n          endTime: '',\n          stores_id: '',\n          isNull,\n          keyword: ''\n        }\n      })\n    } else if (isNull !== '') {\n      let query = Object.assign({}, this.$route.query, {isNull: ''})\n      this.$router.replace({\n        path: this.$route.path,\n        query\n      })\n    }\n  },\n  mounted () {\n    this.userData = getToken()\n    this.getListData(this.$route.query)\n    // 去除菜单status\n    if (this.$store.state.userMenuStatus && this.$store.state.userMenuStatus['audit_report']) {\n      cancelStatus({user_id: this.userData.id})\n      this.setUserMenuStatus(Object.assign({}, this.$store.state.userMenuStatus, {audit_report: false}))\n    }\n  },\n  methods: {\n    ...mapMutations({\n      setUserMenuStatus: 'SET_USER_MENU_STATUS'\n    }),\n    easyQuery (data = {}) {\n      let prevQuery = this.$route.query\n      let query = Object.assign({}, prevQuery, data)\n      this.$router.push({path: this.$route.path, query})\n    },\n    changeCurrentPage ({pageNum}) {\n      this.easyQuery({\n        pageNum\n      })\n    },\n    changeCurrentSize ({pageSize}) {\n      this.easyQuery({\n        pageNum: '0',\n        pageSize\n      })\n    },\n    inputContent: Utils.throttle(function () {\n      this.easyQuery({\n        keyword: this.keyword,\n        pageNum: 0\n      })\n    }, 1000, {leading: false}),\n    // 获取列表\n    getListData (data) {\n      this.loading = true\n      let form = Object.assign({\n        user_id: this.userData.id, // 记得要删除\n        stores_id: this.storeId,\n        datetime: '',\n        startTime: this.startTime,\n        endTime: this.endTime,\n        isNull: this.isNull\n      }, data)\n      getAuditReportInfo(form).then(res => {\n        if (res.code === '200') {\n          this.listData = this.handleListData(res.data)\n          this.storeList = this.handleStoreList(res.roles)\n          this.paganition = {\n            pageSize: parseInt(res.pageSize),\n            currentPage: parseInt(res.pageNum) + 1,\n            total: parseInt(res.total)\n          }\n        } else if (res.code === '201') {\n          this.listData = []\n          this.storeList = this.handleStoreList(res.data)\n        } else if (res.code === '202') {\n          this.listData = []\n          this.isNoPower = true\n        } else {\n          this.listData = []\n          this.setToastData({\n            message: res.message,\n            type: 'fail'\n          })\n        }\n        this.loading = false\n      }).catch(() => {\n        this.loading = false\n      })\n    },\n    handleListData (data) {\n      let {pageSize, pageNum} = this.$route.query\n      data.forEach((item, index) => {\n        item.index = (pageSize * pageNum) + index + 1\n      })\n      return data\n    },\n    handleStoreList (storeList) {\n      let newStoreList = [{\n        storeName: '全部门店',\n        storeId: ''\n      }]\n      storeList.forEach(item => {\n        let newStoreItem = {\n          storeId: item.stores_id,\n          storeName: item.stores_name\n        }\n        newStoreList.push(newStoreItem)\n      })\n      return newStoreList\n    },\n    changeDatePicker (dateArr) {\n      let [startTime, endTime] = dateArr\n      this.startTime = startTime\n      this.endTime = endTime\n      this.easyQuery({\n        startTime,\n        endTime,\n        pageNum: 0\n      })\n    },\n    navigateToEditPicture (userId, operation, id) {\n      this.$router.push({path: `/user/audit_report/edit_picture/${userId}`, query: {operation, id}})\n    },\n    navigateToNotMemberPicture () {\n      this.$router.push({path: `/user/audit_report/not_member_picture`})\n    },\n    setToastData ({message, type, callback}) {\n      this.toastStatus = true\n      this.$set(this.toastData, 'message', message)\n      this.$set(this.toastData, 'type', type)\n      setTimeout(() => {\n        this.toastStatus = false\n        callback && callback()\n      }, 1200)\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n  .list\n    width 100%\n    height 100%\n    display flex\n    flex-direction column\n  .screen-empty\n    flex 1\n    display flex\n    justify-content center\n    align-items center\n    flex-direction column\n  .empty-title\n    font-size 12px\n    color #b1b1b1\n    margin-top 10px\n    > a\n      color #24CF5F\n  .list\n    width 100%\n    height 100%\n  .list-header\n    padding 16px 40px 16px 30px\n    display flex\n    flex-shrink 0\n    align-items center\n    border-bottom 1px solid #f5f5f5\n    .list-title\n      font-size 16px\n  .list-header-select-container\n    margin-right 20px\n  .list-header-second\n    display flex\n    justify-content space-between\n    align-items center\n    .list-header-left\n    .list-header-right\n      display flex\n      align-items center\n      color #999999\n    .list-header-right-button\n      width 120px\n      height 32px\n      line-height 32px\n      border-radius 4px\n      font-size 14px\n      text-align center\n      color #ffffff\n      background-color #24CF5F\n      cursor pointer\n  .table-pic\n    height 24px\n    width 24px\n    object-fit cover\n  .edit-pic\n    font-size 14px\n    color #2162D2\n    cursor pointer\n  .edit-icon\n    position absolute\n    right 10px\n    bottom 10px\n    height 14px\n    width 14px\n    background url('~@/assets/black_edit2.png')\n    background-size 14px 14px\n  .export-table\n    margin 0 16px\n    color #2162d2\n    cursor pointer\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/audit_report/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"list list-special\"},[_vm._m(0),_vm._v(\" \"),(_vm.isNoPower)?_c('div',{staticClass:\"screen-empty\"},[_c('img',{attrs:{\"src\":require(\"@/assets/empty_logo.gif\"),\"alt\":\"empty_logo\"}}),_vm._v(\" \"),_c('p',{staticClass:\"empty-title\"},[_vm._v(\"没有模块权限，请与管理员确认\")])]):_c('div',[_c('div',{staticClass:\"list-header list-header-second\"},[_c('div',{staticClass:\"list-header-left\"},[_c('div',{staticClass:\"list-header-select-container\"},[_c('DatePicker',{staticStyle:{\"width\":\"260px\"},attrs:{\"editable\":false,\"clearable\":true,\"size\":\"large\",\"type\":\"daterange\",\"transfer\":\"\",\"placement\":\"bottom-end\",\"placeholder\":\"选择日期\"},on:{\"on-change\":_vm.changeDatePicker},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"list-header-select-container\"},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"large\",\"transfer\":\"\",\"clearable\":true,\"placeholder\":\"门店\"},model:{value:(_vm.stores_id),callback:function ($$v) {_vm.stores_id=$$v},expression:\"stores_id\"}},_vm._l((_vm.storeList),function(item){return _c('Option',{key:item.storeId,attrs:{\"value\":item.storeId}},[_vm._v(_vm._s(item.storeName)+\"\\n            \")])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"list-header-select-container\"},[_c('Select',{staticStyle:{\"width\":\"120px\"},attrs:{\"size\":\"large\",\"transfer\":\"\",\"clearable\":true,\"placeholder\":\"识别状态\"},model:{value:(_vm.isNull),callback:function ($$v) {_vm.isNull=$$v},expression:\"isNull\"}},_vm._l((_vm.isNullList),function(item){return _c('Option',{key:item.title,attrs:{\"value\":item.isNull,\"label\":item.title}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"list-header-input-container\"},[_c('i-input',{staticStyle:{\"width\":\"220px\"},attrs:{\"clearable\":true,\"size\":\"large\",\"placeholder\":\"姓名/会员ID/卡号搜索\"},on:{\"input\":_vm.inputContent},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}},[_c('Icon',{attrs:{\"slot\":\"prefix\",\"type\":\"ios-search-outline\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),(_vm.listData.length)?_c('a',{staticClass:\"export-table\",attrs:{\"href\":_vm.exportHref}},[_vm._v(\"导出表格\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"list-header-right\"},[_c('span',{staticClass:\"list-header-right-button\",on:{\"click\":_vm.navigateToNotMemberPicture}},[_vm._v(\"非会员图像库\")])])]),_vm._v(\" \"),_c('el-table',{staticClass:\"audit-report\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"index\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"65\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"160\",\"prop\":\"user_in_time\",\"align\":\"center\",\"label\":\"刷卡时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stores_name\",\"align\":\"center\",\"label\":\"门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_name\",\"align\":\"center\",\"label\":\"会员名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_id\",\"align\":\"center\",\"label\":\"会员ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_card\",\"align\":\"center\",\"label\":\"卡号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_pic\",\"align\":\"center\",\"label\":\"头像\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.user_pic)?_c('table-image',{attrs:{\"table-image-url\":scope.row.user_pic}},[_c('img',{staticClass:\"table-pic\",attrs:{\"src\":scope.row.user_pic,\"alt\":\"图像\"}})]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"running_water\",\"align\":\"center\",\"label\":\"入场流水号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"distinguish_id\",\"align\":\"center\",\"label\":\"识别ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pic_path\",\"align\":\"center\",\"label\":\"图像\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"edit-image-cell\"},[(scope.row.pic_path && !Object.is(scope.row.pic_path, \"-/-\"))?_c('table-image',{attrs:{\"table-image-url\":scope.row.pic_path}},[_c('img',{staticClass:\"table-pic\",attrs:{\"src\":scope.row.pic_path,\"alt\":\"图像\"}})]):_c('span',{staticClass:\"edit-pic\",on:{\"click\":function($event){_vm.navigateToEditPicture(scope.row.user_id, 'add', scope.row.id)}}},[_vm._v(\"调整图像\")]),_vm._v(\" \"),(scope.row.pic_path && scope.row.flag === '0')?_c('span',{staticClass:\"edit-icon\",on:{\"click\":function($event){_vm.navigateToEditPicture(scope.row.user_id, 'edit', scope.row.id)}}}):_vm._e()],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"appoint\",\"align\":\"center\",\"label\":\"约课情况\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.appoint === '1')?_c('span',[_vm._v(\"是\")]):_c('span',[_vm._v(\"否\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"valid_member\",\"align\":\"center\",\"label\":\"是否有效会员\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.valid_member === '1')?_c('span',[_vm._v(\"是\")]):_c('span',[_vm._v(\"否\")])]}}])})],1),_vm._v(\" \"),(_vm.listData.length)?_c('g-pagination',{attrs:{\"total\":_vm.paganition.total,\"page-size\":_vm.paganition.pageSize,\"current-page\":_vm.paganition.currentPage},on:{\"changeCurrentPage\":_vm.changeCurrentPage,\"changeCurrentSize\":_vm.changeCurrentSize}}):_vm._e()],1),_vm._v(\" \"),(_vm.toastStatus)?_c('toast',{attrs:{\"message\":_vm.toastData.message,\"type\":_vm.toastData.type}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-header frsc\"},[_c('div',{staticClass:\"list-title\"},[_vm._v(\"稽核报告\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-746c1351\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/audit_report/List.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-746c1351\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-746c1351\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-746c1351\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/audit_report/List.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}