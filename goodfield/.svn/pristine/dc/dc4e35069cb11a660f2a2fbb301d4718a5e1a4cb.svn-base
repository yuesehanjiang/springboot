{"version":3,"sources":["webpack:///./node_modules/iview/src/components/time-picker/index.js","webpack:///./node_modules/iview/src/components/date-picker/picker/time-picker.js","webpack:///src/views/user/components/SelectTerminalCheckbox.vue","webpack:///./src/views/user/components/SelectTerminalCheckbox.vue?7c12","webpack:///./src/views/user/components/SelectTerminalCheckbox.vue","webpack:///src/views/user/components/SelectTerminal.vue","webpack:///./src/views/user/components/SelectTerminal.vue?2b5f","webpack:///./src/views/user/components/SelectTerminal.vue","webpack:///src/views/user/screen/Detail.vue","webpack:///./src/views/user/screen/Detail.vue?8122","webpack:///./src/views/user/screen/Detail.vue"],"names":["components_time_picker","mixins","picker","time_mixins","components","TimePickerPanel","time","RangeTimePickerPanel","time_range","props","type","validator","value","Object","assist","default","computed","[object Object]","this","disabledHours","disabledMinutes","disabledSeconds","hideDisabledOptions","watch","visible","$nextTick","forEach","instance","updateScroll","SelectTerminalCheckbox","label","String","machines","Array","selected","data","isOpening","hasMachines","length","checked","_this","machine","indexOf","id","checkedAll","_this2","methods","handleCheckAll","_this3","dropdown","$emit","handleCheck","$refs","menu","focus","menuBlur","components_SelectTerminalCheckbox","render","_vm","_h","$createElement","_c","_self","ref","staticClass","class","active","has-machines","attrs","tabindex","on","click","blur","activeHalf","_v","_s","$event","stopPropagation","_l","index","key","name","_m","_e","staticRenderFns","user_components_SelectTerminalCheckbox","__webpack_require__","normalizeComponent","ssrContext","Modal","Toast","GCheckbox","createModalStatus","Boolean","serverData","currentCityIndex","userSelectedIdArr","machineLength","mounted","token","tool","stores","getListData","getList","publicData","terminal","propData","params","assign","Promise","all","user_id","then","res","code","finalListData","item","machines2","machine_id","machinesIdArr","split","machinesNameArr","machine_name","machinesLength","i","storeId","stores_id","storeName","stores_name","push","store","area_name","stores_city","tempListData","hasOwnProperty","children","lib_message_default","a","warning","message","checkboxChange","idArr","idIndex","splice","handleConfirm","lists","map","filter","v","handleCancel","components_SelectTerminal","modal-title","cancelModal","confirmModal","change","user_components_SelectTerminal","SelectTerminal_normalizeComponent","SelectTerminal","NOW_TIME","Date","getTime","Detail","Breadcrumb","FormTitle","TimePicker","isConfirming","loading","submitting","selecting","form","range","dateOption","disabledDate","date","checkedDate","checking","array","minDateTime","maxDateTime","dateTime","utils_default","formatStamp","isPlaying","$route","status","Number","classify","query","selected_input_show","show","join","form.name","$message","newDate","isExist","roundingDate","userId","screen","folderName","unlimited_time","startTime","substr","endTime","rePlayTime","slice","rePlayDate","isReplay","$router","replace","path","content_type","storeIds","storeNames","machineIds","machineNames","storeIndex","checkTime2","catch","err","handleTime","t","handleDate","d","handleTimeCheck","start","resolve","reject","roleId","keys","nowDate","Error","handleSelect","terminalConfirm","validate","utils_validate","isNullString","reset","handleSubmit","submit","_this4","replay","machine_ids","sort","dataArray","back","screen_Detail","tag","to","directives","rawName","expression","label-position","label-width","nativeOn","preventDefault","keydown","_k","keyCode","staticStyle","width","maxlength","size","placeholder","disabled","model","callback","$$v","$set","readonly","color","transfer","clearable","margin-top","format","editable","options","on-change","on-open-change","multiple","confirm","cancel","modalTitle","cancelText","confirmText","Detail_Component","Detail_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.c8a6f49626db881cf4d0.js","sourcesContent":["import TimePicker from '../date-picker/picker/time-picker';\nexport default TimePicker;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/iview/src/components/time-picker/index.js\n// module id = null\n// module chunks = ","import Picker from '../picker.vue';\nimport TimePickerPanel from '../panel/Time/time.vue';\nimport RangeTimePickerPanel from '../panel/Time/time-range.vue';\nimport Options from '../time-mixins';\n\nimport { findComponentsDownward, oneOf } from '../../../utils/assist';\n\nexport default {\n    mixins: [Picker, Options],\n    components: { TimePickerPanel, RangeTimePickerPanel },\n    props: {\n        type: {\n            validator (value) {\n                return oneOf(value, ['time', 'timerange']);\n            },\n            default: 'time'\n        },\n    },\n    computed: {\n        panel(){\n            const isRange =  this.type === 'timerange';\n            return isRange ? 'RangeTimePickerPanel' : 'TimePickerPanel';\n        },\n        ownPickerProps(){\n            return {\n                disabledHours: this.disabledHours,\n                disabledMinutes: this.disabledMinutes,\n                disabledSeconds: this.disabledSeconds,\n                hideDisabledOptions: this.hideDisabledOptions\n            };\n        }\n    },\n    watch: {\n        visible(visible){\n            if (visible) {\n                this.$nextTick(() => {\n                    const spinners = findComponentsDownward(this, 'TimeSpinner');\n                    spinners.forEach(instance => instance.updateScroll());\n                });\n            }\n        }\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/iview/src/components/date-picker/picker/time-picker.js\n// module id = null\n// module chunks = ","<template>\n  <div @click='handleCheckAll' class=\"g-checkbox\" :class=\"{active: checked||checkedAll,'has-machines':hasMachines}\"\n       @blur=\"menuBlur\" ref=\"menu\" tabindex=\"0\">\n    <span class=\"checkbox-box\" :class='{active: checked,activeHalf: checked&&!checkedAll}'></span>\n    <span class=\"checkbox-label text-ellipsis\">{{label}}</span>\n    <div class=\"drop-down-box\" @click.stop=\"dropdown\">\n      <span class=\"drop-down\"></span>\n    </div>\n    <ul class=\"terminal-list\" v-if=\"isOpening\" @click.stop>\n      <template v-if=\"hasMachines\">\n        <li v-for=\"(machine,index) in machines\" :key=\"index\" @click.stop=\"handleCheck(machine.id)\">\n          <span class=\"checkbox-box\" :class=\"{active:selected.indexOf(machine.id)!==-1}\"></span>\n          <span class=\"text-ellipsis\">{{machine.name}}</span>\n        </li>\n      </template>\n      <template v-else>\n        <li class=\"empty-li\">\n          <span>没有终端机</span>\n        </li>\n      </template>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    label: String,\n    machines: Array,\n    selected: Array\n  },\n  data () {\n    return {\n      isOpening: false\n    }\n  },\n  computed: {\n    hasMachines: function () {\n      return this.machines && this.machines.length !== 0\n    },\n    checked: function () {\n      let length = 0\n      this.machines.forEach((machine) => {\n        if (this.selected.indexOf(machine.id) !== -1) {\n          length++\n        }\n      })\n      return length !== 0\n    },\n    checkedAll: function () {\n      let length = 0\n      this.machines.forEach((machine) => {\n        if (this.selected.indexOf(machine.id) !== -1) {\n          length++\n        }\n      })\n      return (length !== 0) && (length === this.machines.length)\n    }\n  },\n  methods: {\n    handleCheckAll () {\n      if (this.machines.length === 0) {\n        this.dropdown()\n      } else {\n        if (this.checkedAll || !this.checked) {\n          this.machines.forEach((machine) => {\n            this.$emit('change', machine.id)\n          })\n        } else {\n          this.machines.forEach((machine) => {\n            if (this.selected.indexOf(machine.id) === -1) {\n              this.$emit('change', machine.id)\n            }\n          })\n        }\n      }\n    },\n    handleCheck (id) {\n      this.$emit('change', id)\n    },\n    dropdown () {\n      this.$refs.menu.focus()\n      this.isOpening = !this.isOpening\n    },\n    menuBlur () {\n      this.isOpening = false\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n  .g-checkbox\n    outline none\n    display flex\n    align-items center\n    padding-left 10px\n    width 136px\n    height 35px\n    line-height 35px\n    border-radius 4px\n    box-sizing border-box\n    background-color #eaeaea\n    cursor pointer\n    position relative\n    &.active\n      color #ffffff\n      background-color rgba(36, 207, 95, 1)\n      & > .checkbox-box\n        border 1px solid white\n    &.has-machines:before\n      content ''\n      position absolute\n      top 0\n      left 0\n      height 100%\n      width 3px\n      background #24cf5f\n      border-top-left-radius 4px\n      border-bottom-left-radius 4px\n    .checkbox-label\n      font-size 12px\n      line-height 12px\n      flex 1\n\n  .checkbox-box\n    position relative\n    display inline-block\n    margin-right 7px\n    width 15px\n    height 15px\n    border-radius 3px\n    border 1px solid #cccccc\n    background-color #ffffff\n    &.active:after\n      position absolute\n      top 4px\n      left 3px\n      display inline-block\n      content: ''\n      height 4px\n      width 7px\n      border 1px solid rgba(36, 207, 95, 1)\n      border-top none\n      border-right none\n      transform rotate(-45deg)\n    &.active.activeHalf:after\n      border 1px solid rgba(36, 207, 95, 1)\n      transform: rotate(0deg);\n      height: 2px;\n      top 6px\n\n  .drop-down-box\n    width 24px\n    height 100%\n    outline none\n\n  .drop-down\n    position absolute\n    width 7px\n    height 7px\n    top: -5px\n    right: 13px\n    bottom: 0\n    margin: auto 0\n    border-left: 1px solid #FFFFFF\n    border-bottom: 1px solid #FFFFFF\n    transform rotate(-45deg)\n\n  .terminal-list\n    position absolute\n    left 0\n    top 100%\n    z-index 5\n    line-height 26px\n    color #333333\n    outline none\n    width 100%\n    background: white;\n    border: 1px solid #EAEAEA;\n    border-radius: 4px;\n    padding 4px 0\n    li\n      display flex\n      align-items center\n      padding 0 10px\n\n  .empty-li\n    color #B1B1B1\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/components/SelectTerminalCheckbox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"menu\",staticClass:\"g-checkbox\",class:{active: _vm.checked||_vm.checkedAll,'has-machines':_vm.hasMachines},attrs:{\"tabindex\":\"0\"},on:{\"click\":_vm.handleCheckAll,\"blur\":_vm.menuBlur}},[_c('span',{staticClass:\"checkbox-box\",class:{active: _vm.checked,activeHalf: _vm.checked&&!_vm.checkedAll}}),_vm._v(\" \"),_c('span',{staticClass:\"checkbox-label text-ellipsis\"},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('div',{staticClass:\"drop-down-box\",on:{\"click\":function($event){$event.stopPropagation();return _vm.dropdown($event)}}},[_c('span',{staticClass:\"drop-down\"})]),_vm._v(\" \"),(_vm.isOpening)?_c('ul',{staticClass:\"terminal-list\",on:{\"click\":function($event){$event.stopPropagation();}}},[(_vm.hasMachines)?_vm._l((_vm.machines),function(machine,index){return _c('li',{key:index,on:{\"click\":function($event){$event.stopPropagation();_vm.handleCheck(machine.id)}}},[_c('span',{staticClass:\"checkbox-box\",class:{active:_vm.selected.indexOf(machine.id)!==-1}}),_vm._v(\" \"),_c('span',{staticClass:\"text-ellipsis\"},[_vm._v(_vm._s(machine.name))])])}):[_vm._m(0)]],2):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"empty-li\"},[_c('span',[_vm._v(\"没有终端机\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14a7c49a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/components/SelectTerminalCheckbox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14a7c49a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SelectTerminalCheckbox.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectTerminalCheckbox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectTerminalCheckbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14a7c49a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SelectTerminalCheckbox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14a7c49a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/components/SelectTerminalCheckbox.vue\n// module id = null\n// module chunks = ","<template>\n  <modal v-if='serverData.length' class='edit-shop-modal'\n         :modal-title=\"'选择终端机 ( '+this.userSelectedIdArr.length+'/'+this.machineLength+' ) '\"\n         @cancelModal='handleCancel'\n         @confirmModal='handleConfirm'>\n    <div class=\"modal-content-slot\">\n      <ul class=\"modal-content-left\">\n        <li v-for='(item, index) in serverData' :key='index'\n            @click='currentCityIndex = index'\n            :class=\"{active: index===currentCityIndex}\"\n            class=\"modal-content-left-item\">\n          {{item.stores_city}}\n        </li>\n      </ul>\n      <div class=\"modal-content-right\">\n        <g-checkbox\n          v-for='(item, index) in serverData[currentCityIndex].children' :key='index'\n          :machines=\"item.machines\"\n          :label='item.stores_name'\n          :selected=\"userSelectedIdArr\"\n          @change=\"checkboxChange\">\n        </g-checkbox>\n      </div>\n    </div>\n  </modal>\n</template>\n<script>\nimport { getMachineListByUserIdForScreen } from 'api/terminal'\nimport Modal from 'components/Modal'\nimport Toast from 'components/Toast'\nimport GCheckbox from 'views/user/components/SelectTerminalCheckbox.vue'\nimport { Message } from 'element-ui'\nimport { getToken } from 'utils/tool'\n\nexport default {\n  components: {Modal, Toast, GCheckbox},\n  props: {\n    createModalStatus: {\n      type: Boolean,\n      default: true\n    },\n    type: String,\n    selected: {\n      type: Array,\n      default: function () {\n        return []\n      }\n    }\n  },\n  data () {\n    return {\n      serverData: [],\n      currentCityIndex: 0,\n      userSelectedIdArr: this.selected,\n      machineLength: 0\n    }\n  },\n  mounted () {\n    this.token = getToken()\n    this.stores = {}\n    this.machines = {}\n    this.getListData()\n  },\n  methods: {\n    getList (publicData) {\n      let getList\n      let typeData = {}\n      switch (this.type) {\n        case 'screen':\n          getList = getMachineListByUserIdForScreen\n          break\n        default:\n          getList = getMachineListByUserIdForScreen\n      }\n      let propData = this.params\n      return getList(Object.assign({}, publicData, typeData, propData))\n    },\n    getListData () {\n      Promise.all([this.getList({'user_id': this.token.id})]).then(res => {\n        if (res[0].code === '200') {\n          let areaList = res[0].data\n          let stores = []\n          let machineLength = 0\n          let finalListData = []\n          areaList.forEach((item, index) => {\n            let machines = (() => {\n              let machines = []\n              if (item.machines2.machine_id) {\n                let machinesIdArr = item.machines2.machine_id.split(',')\n                let machinesNameArr = item.machines2.machine_name.split(',')\n                let machinesLength = machinesNameArr.length\n                for (let i = 0; i < machinesLength; i++) {\n                  let machine = {\n                    name: machinesNameArr[i],\n                    id: machinesIdArr[i],\n                    storeId: item.stores_id,\n                    storeName: item.stores_name\n                  }\n                  this.machines[machinesIdArr[i]] = machine\n                  machines.push(machine)\n                }\n                machineLength = machineLength + machinesLength\n              }\n              return machines\n            })()\n            let store = {\n              area_name: item.stores_city,\n              stores_id: item.stores_id,\n              stores_name: item.stores_name,\n              machines\n            }\n            stores.push(store)\n          })\n\n          let tempListData = {}\n          stores.forEach(item => {\n            if (!tempListData.hasOwnProperty(item.area_name)) {\n              tempListData[item.area_name] = {\n                stores_city: item.area_name,\n                children: []\n              }\n            }\n            tempListData[item.area_name].children.push(item)\n          })\n\n          for (let key in tempListData) {\n            finalListData.push(tempListData[key])\n          }\n\n          this.machineLength = machineLength\n          this.serverData = finalListData\n        } else if (res[0].code === '201') {\n          Message.warning({\n            message: '您的账号下没有分配门店，请确认后再试'\n          })\n        }\n      })\n    },\n    checkboxChange (id) {\n      let idArr = this.userSelectedIdArr\n      let idIndex = idArr.indexOf(id)\n      if (idIndex >= 0) {\n        idArr.splice(idIndex, 1)\n      } else {\n        idArr.push(id)\n      }\n    },\n    handleConfirm () {\n      let lists = this.userSelectedIdArr.map(value => this.machines[value]).filter(v => !!v)\n      this.$emit('confirm', lists)\n    },\n    handleCancel () {\n      this.$emit('cancel')\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n  .edit-shop-modal /deep/ .modal-content\n    padding 0\n\n  .modal-content-slot\n    display flex\n    border-bottom 1px solid #eaeaea\n    overflow hidden\n\n  .modal-content-left\n    padding-bottom 15px\n    width 140px\n    height 400px\n    overflow auto\n    line-height 14px\n    font-size 14px\n    text-align center\n    border-right 1px solid #EAEAEA\n\n  .modal-content-left-item\n    margin-top 15px\n    cursor pointer\n    &.active\n      color #217EE6\n\n  .modal-content-right\n    min-height 400px\n    display flex\n    flex-wrap wrap\n    justify-content flex-start\n    align-content flex-start\n    padding 20px 23px\n    width 676px\n    height 400px\n    overflow auto\n    box-sizing border-box\n    .g-checkbox\n      margin 0 23px 18px 0\n      &:nth-child(4n)\n        margin-right 0\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/components/SelectTerminal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.serverData.length)?_c('modal',{staticClass:\"edit-shop-modal\",attrs:{\"modal-title\":'选择终端机 ( '+this.userSelectedIdArr.length+'/'+this.machineLength+' ) '},on:{\"cancelModal\":_vm.handleCancel,\"confirmModal\":_vm.handleConfirm}},[_c('div',{staticClass:\"modal-content-slot\"},[_c('ul',{staticClass:\"modal-content-left\"},_vm._l((_vm.serverData),function(item,index){return _c('li',{key:index,staticClass:\"modal-content-left-item\",class:{active: index===_vm.currentCityIndex},on:{\"click\":function($event){_vm.currentCityIndex = index}}},[_vm._v(\"\\n        \"+_vm._s(item.stores_city)+\"\\n      \")])})),_vm._v(\" \"),_c('div',{staticClass:\"modal-content-right\"},_vm._l((_vm.serverData[_vm.currentCityIndex].children),function(item,index){return _c('g-checkbox',{key:index,attrs:{\"machines\":item.machines,\"label\":item.stores_name,\"selected\":_vm.userSelectedIdArr},on:{\"change\":_vm.checkboxChange}})}))])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f6c8ca9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/components/SelectTerminal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f6c8ca9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SelectTerminal.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectTerminal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectTerminal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f6c8ca9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SelectTerminal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f6c8ca9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/components/SelectTerminal.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <Breadcrumb>\n      <router-link tag=\"li\" :to=\"'/user/screen/top'\">三屏播放</router-link>\n      <li v-if=\"$route.params.type === 'top'\">上屏</li>\n      <li v-else-if=\"$route.params.type === 'middle'\">中屏</li>\n      <li v-else-if=\"$route.params.type === 'bottom'\">下屏</li>\n    </Breadcrumb>\n    <FormTitle>{{$route.params.id?'编辑':'创建'}}{{classify}}文件夹</FormTitle>\n    <div class=\"greeting-form\" v-loading=\"loading\">\n      <Form label-position=\"right\" :label-width=\"124\" @submit.native.prevent @keydown.native.enter.prevent>\n        <FormItem label=\"文件名\">\n          <Input v-model=\"form.name\" :maxlength=\"119\" size=\"default\" style=\"width:300px\" placeholder=\"请输入文件名\"\n                 :disabled=\"isPlaying\"/>\n        </FormItem>\n        <FormItem label=\"门店终端机\">\n          <div class=\"select-input\" @click=\"handleSelect\">\n            <Input :value=\"selected_input_show\" size=\"default\" placeholder=\"点击选择门店及终端机\"\n                   readonly :disabled=\"isPlaying\"/>\n            <div class=\"edit-store\"><i class=\"edit-store-icon\"></i></div>\n          </div>\n          <p v-if=\"isPlaying\" style=\"color: #b1b1b1;\">在播文件夹终端机不可修改</p>\n        </FormItem>\n        <FormItem label=\"播放时间\">\n          <Select :transfer=\"false\" size=\"default\" :disabled=\"isPlaying\" :clearable=\"!isPlaying\"\n                  v-model=\"form.time\" style=\"width:300px\" placeholder=\"不限时间\">\n            <Option value=\"0\">不限时间</Option>\n            <Option value=\"2\">设置日期</Option>\n          </Select>\n          <!--先保留-->\n          <div v-show=\"Number(form.time)===1\" style=\"margin-top: 24px\">\n            <DatePicker type=\"datetimerange\" format=\"yyyy-MM-dd HH:mm\" size=\"default\" :transfer=\"false\"\n                        :editable=\"false\" placeholder=\"请选择播放时间范围\" style=\"width: 300px\"\n                        :options=\"dateOption\" :value=\"form.range\"\n                        @on-change=\"(date)=>{form.range=date}\"\n                        :disabled=\"isPlaying\" :readonly=\"isPlaying\"/>\n            <p v-if=\"isPlaying\" style=\"color: #b1b1b1;\">在播文件夹时间不可修改</p>\n          </div>\n          <template v-if=\"Number(form.time)===2\">\n            <div style=\"margin-top: 24px\">\n              <TimePicker\n                type=\"timerange\"\n                style=\"width: 300px\"\n                size=\"default\"\n                :editable=\"false\"\n                :clearable=\"false\"\n                :transfer=\"false\"\n                format=\"HH:mm\"\n                placeholder=\"选择时间\"\n                :disabled=\"isPlaying\"\n                :readonly=\"isPlaying\"\n                :value=\"time\"\n                @on-change=\"handleTime\"\n                @on-open-change=\"handleTimeCheck\"\n              />\n            </div>\n            <div style=\"margin-top: 24px;width: 300px;\" v-loading=\"checking\">\n              <DatePicker\n                type=\"date\"\n                style=\"width: 300px\"\n                size=\"default\"\n                :editable=\"false\"\n                :transfer=\"false\"\n                multiple\n                placeholder=\"选择日期\"\n                :options=\"{disabledDate}\"\n                :disabled=\"isPlaying\"\n                :readonly=\"isPlaying\"\n                :value=\"date\"\n                @on-change=\"handleDate\"\n              />\n            </div>\n            <p v-if=\"isPlaying\" style=\"color: #b1b1b1;\">在播文件夹时间不可修改</p>\n          </template>\n        </FormItem>\n        <FormItem>\n          <button class=\"form-btn\" @click=\"reset\">重置</button>\n          <button class=\"form-btn primary-btn\" :class=\"{submitting:submitting}\" @click=\"submit\">确定</button>\n        </FormItem>\n      </Form>\n    </div>\n    <SelectTerminal\n      type=\"screen\"\n      v-if='selecting'\n      :selected='selected.map(v=>v.id)'\n      @confirm=\"terminalConfirm\"\n      @cancel='selecting=false'\n    />\n    <Modal\n      v-if=\"isConfirming\"\n      modalTitle=\"复播提示\"\n      cancelText=\"不复播\"\n      confirmText=\"复播\"\n      @cancelModal=\"handleSubmit\"\n      @confirmModal=\"handleConfirm\"\n    >是否复播该文件夹\n    </Modal>\n  </div>\n</template>\n<script>\nimport Breadcrumb from 'views/user/components/Breadcrumb'\nimport FormTitle from 'views/user/components/FormTitle'\nimport SelectTerminal from 'views/user/components/SelectTerminal'\nimport { getToken } from 'utils/tool'\nimport Utils from 'utils/utils'\nimport Validate from 'utils/validate'\nimport Modal from 'components/Modal'\nimport { TimePicker } from 'iview'\nimport { addNewFolder, getFolderById, updateFolder, checkFolderTime } from 'api/screen'\n\nconst NOW_TIME = new Date().getTime()\nexport default {\n  components: {Breadcrumb, FormTitle, SelectTerminal, Modal, TimePicker},\n  data () {\n    return {\n      isConfirming: false,\n      loading: false,\n      submitting: false,\n      selecting: false,\n      selected: [],\n      form: {\n        name: '',\n        time: '',\n        range: []\n      },\n      dateOption: {\n        disabledDate (date) {\n          const time = date.getTime()\n          return time <= (NOW_TIME - 24 * 60 * 60 * 1000)\n        }\n      },\n      time: '',\n      date: '',\n      checkedDate: [],\n      checking: false\n    }\n  },\n  computed: {\n    disabledDate: function () {\n      let array = this.checkedDate\n      let minDateTime = new Date().getTime() - 24 * 60 * 60 * 1000\n      let maxDateTime = minDateTime + 90 * 24 * 60 * 60 * 1000\n      return (date) => {\n        const dateTime = date.getTime()\n        if (array.indexOf(Utils.formatStamp(dateTime, 'YYYY-MM-DD')) !== -1) {\n          return true\n        }\n        return dateTime > maxDateTime || dateTime < minDateTime\n      }\n    },\n    isPlaying: function () {\n      if (this.$route.params.id) {\n        if (this.status) {\n          if (Number(this.form.time) === 0) {\n            return true\n          } else if (this.form.range[0] && this.form.range[1]) {\n            if (NOW_TIME > new Date(this.form.range[0]).getTime() && NOW_TIME < new Date(this.form.range[1]).getTime()) {\n              return true\n            }\n          }\n        }\n      }\n    },\n    classify: function () {\n      return this.$route.query.classify === 'picture' ? '图片' : '视频'\n    },\n    type: function () {\n      switch (this.$route.params.type) {\n        case 'top':\n          return 0\n        case 'middle':\n          return 1\n        case 'bottom':\n          return 2\n      }\n    },\n    selected_input_show: function () {\n      let stores = this.stores\n      let show = ''\n      for (let index in stores) {\n        if (stores.hasOwnProperty(index)) {\n          let store = stores[index]\n          show += store[0].storeName + ': '\n          show += store.map(value => value.name).join('、') + '　　'\n        }\n      }\n      return show\n    },\n    stores: function () {\n      let stores = {}\n      this.selected.forEach((value) => {\n        if (!stores[value.storeId]) {\n          stores[value.storeId] = []\n        }\n        stores[value.storeId].push(value)\n      })\n      return stores\n    }\n  },\n  watch: {\n    'form.name': function (value) {\n      if (value.length > 120) {\n        this.$message({\n          message: '文件夹名称最长120个字符',\n          type: 'warning'\n        })\n      }\n    },\n    checkedDate: function (newDate) {\n      let selected = this.date.split(',')\n      let isExist = false\n      let roundingDate = new Date(Utils.formatStamp(NOW_TIME, 'YYYY-MM-DD')).getTime()\n      selected = selected.filter((v) => new Date(v).getTime() >= roundingDate)\n      newDate.forEach((v) => {\n        let index = selected.indexOf(v)\n        if (index !== -1) {\n          isExist = true\n          selected.splice(index, 1)\n        }\n      })\n      if (isExist) {\n        this.$message({\n          message: '播放日期有冲突，请重新确认',\n          type: 'warning'\n        })\n      }\n      this.date = selected.join(',')\n    }\n  },\n  mounted () {\n    this.token = getToken()\n    this.form.user_id = this.token.id\n    if (this.$route.params.id) {\n      this.loading = true\n      let {id} = this.$route.params\n      let type = this.type\n      let userId = this.token.id\n      getFolderById({id, user_id: userId, type}).then(res => {\n        if (Number(res.code) === 200) {\n          this.status = Number(res.data.status)\n          this.form = {\n            name: res.data.folderName,\n            time: String(res.data.unlimited_time),\n            range: [\n              res.data.startTime ? res.data.startTime.substr(0, res.data.startTime.length - 3) : '',\n              res.data.endTime ? res.data.endTime.substr(0, res.data.startTime.length - 3) : ''\n            ]\n          }\n          this.time = res.data.rePlayTime.split('-').map(v => v.slice(0, -3))\n          this.date = res.data.rePlayDate\n          this.isReplay = this.$route.query.type === 'replay'\n          this.$router.replace({\n            path: this.$route.path,\n            query: {\n              classify: Number(res.data.content_type) === 0 ? 'picture' : 'video'\n            }\n          })\n          let selected = []\n          let storeIds = res.data.stores_id.split(',')\n          let storeNames = res.data.stores_name.split(',')\n          let machineIds = res.data.machine_id.split(',')\n          let machineNames = res.data.machine_name.split(',')\n          machineIds.forEach((id, index) => {\n            let name = machineNames[index]\n            let storeIndex = storeNames.indexOf(name.split('-')[0])\n            selected.push({\n              id,\n              name,\n              storeId: storeIds[storeIndex],\n              storeName: storeNames[storeIndex]\n            })\n          })\n          this.selected = selected\n          this.checkTime2('time').catch((err) => {\n            this.$message({\n              message: err.message,\n              type: 'warning'\n            })\n          })\n        } else {\n          this.$message({\n            message: res.message,\n            type: 'warning'\n          })\n        }\n        this.loading = false\n      })\n    }\n  },\n  methods: {\n    handleTime (t) {\n      this.time = t\n    },\n    handleDate (d) {\n      this.date = d\n    },\n    handleTimeCheck (status) {\n      if (!status) {\n        this.$nextTick(function () {\n          let start = new Date('2018-11-11 ' + this.time[0]).getTime()\n          let end = new Date('2018-11-11 ' + this.time[1]).getTime()\n          if ((end - start) < 2 * 60 * 60 * 1000) {\n            this.$message({\n              message: '开始时间与结束时间至少间隔2小时',\n              type: 'warning'\n            })\n            this.handleTime('')\n            return\n          }\n          this.checkTime2('time').catch((err) => {\n            this.$message({\n              message: err.message,\n              type: 'warning'\n            })\n            this.handleTime('')\n          })\n        })\n      }\n    },\n    checkTime2 (type) {\n      return new Promise((resolve, reject) => {\n        let data = {\n          roleId: Object.keys(this.stores).join(','),\n          type: this.type,\n          unlimited_time: this.form.time,\n          rePlayTime: this.time[0] + ':00-' + this.time[1] + ':00'\n        }\n        if (this.$route.params.id) {\n          data['id'] = this.$route.params.id\n        }\n        if (!data['roleId']) {\n          reject(new Error('请先选择终端机'))\n          return\n        }\n        if (data['rePlayTime']) {\n          this.checking = true\n          checkFolderTime(data).then(res => {\n            this.checking = false\n            if (Number(res.code) === 200) {\n              this.checkedDate = res.data\n              let nowDate = Utils.formatStamp(NOW_TIME, 'YYYY-MM-DD')\n              let start = new Date(nowDate + ' ' + this.time[0]).getTime()\n              if ((NOW_TIME + 2 * 60 * 60 * 1000) > start) {\n                this.$message({\n                  message: '播放的开始时间必须为当前时间的2小时后以后',\n                  type: 'warning'\n                })\n                this.checkedDate.push(nowDate)\n              }\n              resolve()\n            } else {\n              reject(new Error(res.message))\n            }\n          })\n        } else {\n          resolve()\n        }\n      })\n    },\n    handleSelect () {\n      if (!this.isPlaying) {\n        this.selecting = true\n      }\n    },\n    // checkTime () {\n    //   let start = new Date(this.form.range[0]).getTime()\n    //   if ((NOW_TIME + 4 * 60 * 60 * 1000) > start) {\n    //     this.form.range = []\n    //     this.$message({\n    //       message: '播放的开始时间必须为当前时间的4小时后以后',\n    //       type: 'warning'\n    //     })\n    //     return false\n    //   }\n    //   let end = new Date(this.form.range[1]).getTime()\n    //   if ((end - start) < 2 * 60 * 60 * 1000) {\n    //     this.form.range = []\n    //     this.$message({\n    //       message: '开始时间与结束时间至少间隔2小时',\n    //       type: 'warning'\n    //     })\n    //     return false\n    //   }\n    //   return true\n    // },\n    terminalConfirm (selected) {\n      this.selected = selected\n      this.selecting = false\n    },\n    validate () {\n      if (Validate.isNullString(this.form.name)) {\n        this.$message({\n          message: '请输入文件名',\n          type: 'warning'\n        })\n        return false\n      } else if (this.selected.length === 0) {\n        this.$message({\n          message: '请选择终端机',\n          type: 'warning'\n        })\n        return false\n      } else if (Number(this.form.time) === 1) {\n        if (!this.form.range[0] || !this.form.range[1]) {\n          this.$message({\n            message: '请选择播放时间',\n            type: 'warning'\n          })\n          return false\n        }\n      } else if (Number(this.form.time) === 2) {\n        if (!this.time) {\n          this.$message({\n            message: '请选择播放时间范围',\n            type: 'warning'\n          })\n          return false\n        } else if (!this.date) {\n          this.$message({\n            message: '请选择播放日期',\n            type: 'warning'\n          })\n          return false\n        }\n      }\n      return true\n    },\n    reset () {\n      this.form.name = ''\n      if (!this.isPlaying) {\n        this.selected = []\n        this.form.range = ''\n        this.form.time = ''\n      }\n    },\n    handleConfirm () {\n      this.isReplay = true\n      this.handleSubmit()\n    },\n    submit () {\n      if (!this.submitting && this.validate()) {\n        if (this.$route.params.id && !this.isReplay) {\n          this.isConfirming = true\n        } else {\n          this.handleSubmit()\n        }\n      }\n    },\n    handleSubmit () {\n      this.isConfirming = false\n      this.submitting = true\n      let data = {\n        replay: this.isReplay ? 1 : 0,\n        userId: this.token.id,\n        type: this.type,\n        content_type: this.$route.query.classify === 'picture' ? 0 : 1,\n        folderName: this.form.name,\n        roleId: Object.keys(this.stores).join(','),\n        machine_ids: this.selected.map(value => value.id).join(','),\n        unlimited_time: this.form.time === '' ? '0' : this.form.time,\n        startTime: this.form.range[0] ? this.form.range[0] + ':00' : '',\n        endTime: this.form.range[1] ? this.form.range[1] + ':00' : '',\n        rePlayTime: this.time[0] + ':00-' + this.time[1] + ':00',\n        rePlayDate: this.date.split(',').map(v => new Date(v).getTime()).sort()\n          .map((v) => Utils.formatStamp(v, 'YYYY-MM-DD')).join(',')\n      }\n      if (Number(data['unlimited_time']) === 2) {\n        let dataArray = data['rePlayDate'].split(',')\n        data['startTime'] = dataArray[0] + ' ' + this.time[0] + ':00'\n        data['endTime'] = dataArray[dataArray.length - 1] + ' ' + this.time[1] + ':00'\n      }\n      let submit = addNewFolder\n      if (this.$route.params.id) {\n        submit = updateFolder\n        data['id'] = this.$route.params.id\n      }\n      submit(data).then(res => {\n        this.submitting = false\n        if (Number(res.code) === 200) {\n          this.$message({\n            message: '操作成功',\n            type: 'success'\n          })\n          if (!this.$route.params.id) {\n            this.$router.push({path: '/user/screen/folder/' + res.data})\n          } else {\n            this.$router.back()\n          }\n        } else {\n          this.$message({\n            message: res.message,\n            type: 'warning'\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang='stylus' scoped>\n  .greeting-form\n    width 664px\n    font-size 14px\n  .greeting-form /deep/ .ivu-form-item-label\n    font-size 14px\n  .greeting-form /deep/ .ivu-input\n    font-size 14px\n  .edit-store\n    position: absolute\n    top 1px\n    bottom 1px\n    right 0\n    width 35px\n    border-left 1px solid #EAEAEA\n    display flex\n    align-items center\n    justify-content center\n    cursor pointer\n  .edit-store-icon\n    display inline-block\n    background url('~@/assets/edit.png') no-repeat center\n    background-size 100% 100%\n    width 14px\n    height 14px\n  .form-btn\n    margin-right 40px\n    background #EAEAEA\n    color #666666\n    width 110px\n    height 35px\n    line-height 35px\n    box-shadow 0px 2px 4px 0px rgba(234, 234, 234, 0.6)\n    border-radius 20px\n    border none\n    font-size 14px\n    outline none\n    &.primary-btn\n      background #24CF5F\n      color #FFFFFF\n      box-shadow 0px 2px 4px 0px rgba(36, 207, 95, 0.6)\n  .submitting\n    opacity 0.5\n    cursor progress\n  .select-input\n    position relative\n  .select-input /deep/ .ivu-input\n    padding-right 35px\n    text-overflow: ellipsis;\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/screen/Detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Breadcrumb',[_c('router-link',{attrs:{\"tag\":\"li\",\"to\":'/user/screen/top'}},[_vm._v(\"三屏播放\")]),_vm._v(\" \"),(_vm.$route.params.type === 'top')?_c('li',[_vm._v(\"上屏\")]):(_vm.$route.params.type === 'middle')?_c('li',[_vm._v(\"中屏\")]):(_vm.$route.params.type === 'bottom')?_c('li',[_vm._v(\"下屏\")]):_vm._e()],1),_vm._v(\" \"),_c('FormTitle',[_vm._v(_vm._s(_vm.$route.params.id?'编辑':'创建')+_vm._s(_vm.classify)+\"文件夹\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"greeting-form\"},[_c('Form',{attrs:{\"label-position\":\"right\",\"label-width\":124},nativeOn:{\"submit\":function($event){$event.preventDefault();},\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();}}},[_c('FormItem',{attrs:{\"label\":\"文件名\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"maxlength\":119,\"size\":\"default\",\"placeholder\":\"请输入文件名\",\"disabled\":_vm.isPlaying},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"门店终端机\"}},[_c('div',{staticClass:\"select-input\",on:{\"click\":_vm.handleSelect}},[_c('Input',{attrs:{\"value\":_vm.selected_input_show,\"size\":\"default\",\"placeholder\":\"点击选择门店及终端机\",\"readonly\":\"\",\"disabled\":_vm.isPlaying}}),_vm._v(\" \"),_c('div',{staticClass:\"edit-store\"},[_c('i',{staticClass:\"edit-store-icon\"})])],1),_vm._v(\" \"),(_vm.isPlaying)?_c('p',{staticStyle:{\"color\":\"#b1b1b1\"}},[_vm._v(\"在播文件夹终端机不可修改\")]):_vm._e()]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"播放时间\"}},[_c('Select',{staticStyle:{\"width\":\"300px\"},attrs:{\"transfer\":false,\"size\":\"default\",\"disabled\":_vm.isPlaying,\"clearable\":!_vm.isPlaying,\"placeholder\":\"不限时间\"},model:{value:(_vm.form.time),callback:function ($$v) {_vm.$set(_vm.form, \"time\", $$v)},expression:\"form.time\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"不限时间\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"设置日期\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(Number(_vm.form.time)===1),expression:\"Number(form.time)===1\"}],staticStyle:{\"margin-top\":\"24px\"}},[_c('DatePicker',{staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"datetimerange\",\"format\":\"yyyy-MM-dd HH:mm\",\"size\":\"default\",\"transfer\":false,\"editable\":false,\"placeholder\":\"请选择播放时间范围\",\"options\":_vm.dateOption,\"value\":_vm.form.range,\"disabled\":_vm.isPlaying,\"readonly\":_vm.isPlaying},on:{\"on-change\":function (date){_vm.form.range=date}}}),_vm._v(\" \"),(_vm.isPlaying)?_c('p',{staticStyle:{\"color\":\"#b1b1b1\"}},[_vm._v(\"在播文件夹时间不可修改\")]):_vm._e()],1),_vm._v(\" \"),(Number(_vm.form.time)===2)?[_c('div',{staticStyle:{\"margin-top\":\"24px\"}},[_c('TimePicker',{staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"timerange\",\"size\":\"default\",\"editable\":false,\"clearable\":false,\"transfer\":false,\"format\":\"HH:mm\",\"placeholder\":\"选择时间\",\"disabled\":_vm.isPlaying,\"readonly\":_vm.isPlaying,\"value\":_vm.time},on:{\"on-change\":_vm.handleTime,\"on-open-change\":_vm.handleTimeCheck}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.checking),expression:\"checking\"}],staticStyle:{\"margin-top\":\"24px\",\"width\":\"300px\"}},[_c('DatePicker',{staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"date\",\"size\":\"default\",\"editable\":false,\"transfer\":false,\"multiple\":\"\",\"placeholder\":\"选择日期\",\"options\":{disabledDate: _vm.disabledDate},\"disabled\":_vm.isPlaying,\"readonly\":_vm.isPlaying,\"value\":_vm.date},on:{\"on-change\":_vm.handleDate}})],1),_vm._v(\" \"),(_vm.isPlaying)?_c('p',{staticStyle:{\"color\":\"#b1b1b1\"}},[_vm._v(\"在播文件夹时间不可修改\")]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),_c('FormItem',[_c('button',{staticClass:\"form-btn\",on:{\"click\":_vm.reset}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('button',{staticClass:\"form-btn primary-btn\",class:{submitting:_vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(\"确定\")])])],1)],1),_vm._v(\" \"),(_vm.selecting)?_c('SelectTerminal',{attrs:{\"type\":\"screen\",\"selected\":_vm.selected.map(function (v){ return v.id; })},on:{\"confirm\":_vm.terminalConfirm,\"cancel\":function($event){_vm.selecting=false}}}):_vm._e(),_vm._v(\" \"),(_vm.isConfirming)?_c('Modal',{attrs:{\"modalTitle\":\"复播提示\",\"cancelText\":\"不复播\",\"confirmText\":\"复播\"},on:{\"cancelModal\":_vm.handleSubmit,\"confirmModal\":_vm.handleConfirm}},[_vm._v(\"是否复播该文件夹\\n  \")]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bca8d494\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/screen/Detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bca8d494\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bca8d494\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bca8d494\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/screen/Detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}