{"version":3,"sources":["webpack:///src/views/user/report/Store.vue","webpack:///./src/views/user/report/Store.vue?decf","webpack:///./src/views/user/report/Store.vue"],"names":["components","TableImage","data","order","this","$route","query","reverse","loading","isEmpty","isNoPower","listData","stores","stores_id","user_type","keyword","token","computed","exportHref","user_id","id","Object","assign","keys","map","v","join","watch","value","easyQuery","pageNum","undefined","String","getList","positive","mounted","tool","methods","handleSearch","utils_default","a","throttle","e","target","leading","prevQuery","$router","push","path","_this","arguments","length","report","then","res","Number","code","countIndex","roles","$message","message","type","catch","pageSize","forEach","i","index","pageNumChange","pageSizeChange","report_Store","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","_v","directives","name","rawName","expression","staticStyle","width","size","clearable","placeholder","transfer","on","on-change","_l","item","key","_s","stores_name","prefix","href","_e","class","active-order","click","text-align","header-cell-style","height","border","prop","label","scopedSlots","_u","fn","scope","table-image-url","row","user_pic","to","active-class","frequency","total","current","page-size","show-sizer","show-elevator","show-total","on-page-size-change","staticRenderFns","Component","normalizeComponent","Store","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/24.6ae541ede620c2290818.js","sourcesContent":["<template>\n  <div class=\"screen-container\">\n    <!-- <div class=\"screen-empty\" v-if=\"isEmpty\">\n      <img src=\"~@/assets/empty_logo.gif\" alt=\"empty_logo\">\n      <p class=\"empty-title\">没有更多数据了</p>\n    </div> -->\n    <div class=\"screen-empty\" v-if=\"isNoPower\">\n      <img src=\"~@/assets/empty_logo.gif\" alt=\"empty_logo\">\n      <p class=\"empty-title\">没有模块权限，请与管理员确认</p>\n    </div>\n    <div class=\"screen-body\" v-else v-loading=\"loading\">\n      <div class=\"screen-body-header\">\n        <Select size=\"default\" :clearable=\"true\" placeholder=\"门店\" :transfer=\"false\" class=\"query-select\"\n                style=\"width:200px\"\n                :value=\"$route.query.stores_id\" @on-change=\"(value)=>{stores_id=value}\">\n          <Option v-for=\"(item) in stores\" :key=\"item.stores_id\" :value=\"item.stores_id\">{{item.stores_name}}</Option>\n        </Select>\n        <Select size=\"default\" :clearable=\"true\" placeholder=\"会员\" :transfer=\"false\" class=\"query-select\"\n                style=\"width:200px\"\n                :value=\"$route.query.user_type\" @on-change=\"(value)=>{user_type=value}\">\n          <Option value=\"0\">曾会员</Option>\n          <Option value=\"1\">会员</Option>\n          <Option value=\"2\">非会员</Option>\n        </Select>\n        <Input size=\"default\" prefix=\"ios-search\" placeholder=\"姓名/ID/卡号搜索\" style=\"width: 200px\"\n               :value=\"$route.query.keyword\" @on-change=\"handleSearch\"/>\n        <a v-if=\"listData.data&&listData.data.length\" class=\"export-table\" :href=\"exportHref\">导出表格</a>\n        <div class=\"button-group\">\n          <div class=\"order-btn\" :class=\"{'active-order':order==='positive'}\" @click=\"positive\">\n            <span>正序</span>\n            <i class=\"order-icon\"></i>\n          </div>\n          <div class=\"order-btn\" :class=\"{'active-order':order==='reverse'}\" @click=\"reverse\">\n            <span>倒序</span>\n            <i class=\"order-icon order-reverse\"></i>\n          </div>\n        </div>\n      </div>\n      <div class=\"screen-body-container\">\n        <el-table\n          class=\"list\"\n          :header-cell-style=\"{'text-align': 'center'}\"\n          style=\"text-align: center\"\n          height=\"100%\"\n          :data=\"listData.data\"\n          border>\n          <el-table-column\n            prop=\"index\"\n            width=\"70\"\n            label=\"序号\">\n          </el-table-column>\n          <el-table-column\n            prop=\"stores_name\"\n            label=\"门店\">\n          </el-table-column>\n          <el-table-column\n            prop=\"user_name\"\n            label=\"会员姓名\">\n          </el-table-column>\n          <el-table-column\n            prop=\"userId\"\n            label=\"会员ID\">\n          </el-table-column>\n          <el-table-column\n            prop=\"user_card\"\n            label=\"卡号\">\n          </el-table-column>\n          <el-table-column\n            prop=\"user_pic\"\n            label=\"头像\">\n            <template slot-scope=\"scope\">\n              <div>\n                <!-- <img class=\"user-avatar\" :src=\"scope.row.user_pic\" alt=\"user-avatar\"> -->\n                <table-image v-if=\"$route.query.user_type !== '2'\" :table-image-url='scope.row.user_pic'>\n                  <img class=\"user-avatar\" :src=\"scope.row.user_pic\" alt=\"user-avatar\">\n                </table-image>\n                <span v-else>{{scope.row.user_pic}}</span>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"exclusive\"\n            label=\"入场次数\">\n            <template slot-scope=\"scope\">\n              <router-link :to=\"Number(user_type) === 2 ?\n                { path: `/user/report/store/${scope.row.id}`, query: {user_type} } :\n                { path: `/user/report/store/${scope.row.userId}`, query: {user_type} }\"\n                           active-class=\"active-tab\">\n                {{scope.row.frequency}}\n              </router-link>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div v-if=\"listData.data && listData.data.length > 0\" class=\"screen-body-footer\">\n        <Page\n          :total=\"Number(listData.total)\"\n          :current=\"Number(listData.pageNum)+1\"\n          :page-size=\"Number(listData.pageSize)\"\n          show-sizer show-elevator show-total :transfer=\"false\"\n          @on-change=\"pageNumChange\"\n          @on-page-size-change=\"pageSizeChange\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { getToken } from 'utils/tool'\nimport { getStoreReport } from 'api/report'\nimport TableImage from '../components/TableImage'\nimport Utils from 'utils/utils'\n\nexport default {\n  components: {TableImage},\n  data () {\n    let order = 'positive'\n    let {query} = this.$route\n    if (query.reverse === '1') {\n      order = 'reverse'\n    }\n    return {\n      loading: true,\n      isEmpty: false,\n      isNoPower: false,\n      listData: {},\n      stores: [],\n      stores_id: '',\n      user_type: '',\n      keyword: '',\n      order: order,\n      token: {}\n    }\n  },\n  computed: {\n    exportHref () {\n      let data = {\n        user_id: this.token.id,\n        user_type: '1',\n        keyword: ''\n      }\n      let query = Object.assign({}, data, this.$route.query)\n      delete query['pageNum']\n      delete query['pageSize']\n      return '/goodfield/web/entrancereport/export?' + Object.keys(query).map(v => v + '=' + (query[v] || '')).join('&')\n    }\n  },\n  watch: {\n    stores_id: function (value) {\n      this.easyQuery({\n        pageNum: 0,\n        stores_id: value === undefined ? '' : String(value)\n      })\n    },\n    user_type: function (value) {\n      this.easyQuery({\n        pageNum: 0,\n        user_type: value === undefined ? '1' : String(value)\n      })\n    },\n    keyword: function (value) {\n      this.easyQuery({\n        pageNum: 0,\n        keyword: value || ''\n      })\n    },\n    '$route': function (value) {\n      let {query} = value\n      this.getList(Object.assign({}, query))\n      if (query.positive) {\n        this.order = 'positive'\n      } else if (query.reverse) {\n        this.order = 'reverse'\n      }\n    }\n  },\n  mounted () {\n    this.token = getToken()\n    this.getList(Object.assign({}, this.$route.query))\n  },\n  methods: {\n    handleSearch: Utils.throttle(function (e) {\n      this.keyword = e.target.value\n    }, 1000, {leading: false}),\n    positive () {\n      this.easyQuery({\n        positive: '1',\n        reverse: ''\n      })\n    },\n    reverse () {\n      this.easyQuery({\n        positive: '',\n        reverse: '1'\n      })\n    },\n    easyQuery (data) {\n      let prevQuery = this.$route.query\n      let query = Object.assign({}, prevQuery, data)\n      this.$router.push({path: this.$route.path, query})\n    },\n    getList (data = {}) {\n      this.loading = true\n      data['user_id'] = this.token.id\n      data['pageNum'] = data['pageNum'] || 0\n      data['pageSize'] = data['pageSize'] || 10\n      data['user_type'] = data['user_type'] || 1\n      getStoreReport(data).then((res) => {\n        if (Number(res.code) === 200) {\n          this.isEmpty = false\n          this.listData = this.countIndex(res)\n          this.stores = res.roles\n        } else if (Number(res.code) === 201) {\n          this.listData = []\n          this.isEmpty = true\n          this.listData = []\n          this.stores = res.data\n        } else if (Number(res.code) === 202) {\n          this.isNoPower = true\n          this.isEmpty = true\n          this.listData = []\n        } else {\n          this.isEmpty = true\n          this.listData = []\n          this.$message({\n            message: res.message,\n            type: 'warning'\n          })\n        }\n        this.loading = false\n      }).catch(() => {\n        this.listData = []\n        this.loading = false\n      })\n    },\n    countIndex (res) {\n      let {pageSize, pageNum, data} = res\n      data.forEach((v, i) => {\n        v.index = (pageSize * pageNum) + i + 1\n      })\n      return res\n    },\n    pageNumChange (pageNum) {\n      this.easyQuery({\n        pageNum: String(pageNum - 1)\n      })\n    },\n    pageSizeChange (pageSize) {\n      this.easyQuery({\n        pageNum: String(0),\n        pageSize: pageSize\n      })\n    }\n  }\n}\n</script>\n<style lang='stylus' scoped>\n  .screen-container\n    height 100%\n    width 100%\n    display flex\n    flex-direction column\n\n  .screen-empty\n    flex 1\n    display flex\n    justify-content center\n    align-items center\n    flex-direction column\n\n  .empty-title\n    font-size 12px\n    color #b1b1b1\n    margin-top 10px\n    > a\n      color #24CF5F\n\n  .screen-body\n    flex 1\n    display flex\n    flex-direction column\n    align-items center\n\n  .screen-body-header\n    height 74px\n    display flex\n    flex-direction row\n    padding-left 30px\n    width 100%\n    align-items center\n\n  .screen-body-container\n    flex 1\n    width 100%\n    overflow auto\n\n  .screen-body-footer\n    padding-right 20px\n    height 60px\n    width 100%\n    display: flex\n    justify-content flex-end\n    align-items center\n\n  .operate-btn-group\n    display flex\n    flex-direction row\n    justify-content center\n    padding 2px 0\n\n  .operate-btn\n    width: 24px;\n    height: 24px;\n    background: #FFFFFF;\n    box-shadow: 0px 1px 2px 0px rgba(102, 102, 102, 0.2);\n    border-radius 50%\n    display: flex\n    align-items center\n    justify-content center\n    border none\n    outline none\n    i\n      display inline-block\n      background-size 100% 100%\n      width 10px\n      height 10px\n    &.edit-btn\n      margin-right 20px\n      &:hover\n        background #3ED572\n        i\n          background url('~@/assets/white_edit.png') no-repeat center\n      i\n        background url('~@/assets/black_edit.png') no-repeat center\n    &.delete-btn\n      &:hover\n        background #F1524A\n        i\n          background url('~@/assets/white_delete.png') no-repeat center\n      i\n        background url('~@/assets/black_delete.png') no-repeat center\n\n  .greetings-member\n    color #2162D2\n    margin 0 10px\n\n  .user-avatar\n    width 24px\n    height 24px\n    border 1px solid #e8e8e8\n\n  .query-select\n    width 200px\n    margin-right 20px\n\n  .button-group\n    flex 1\n    display flex\n    flex-direction row-reverse\n    padding-right 20px\n\n  .order-icon\n    display inline-block\n    background-size 100% 100%\n    width 8px\n    height 10px\n\n  .order-btn\n    padding 10px\n    position: relative\n    cursor pointer\n    &:last-child:before\n      content: ''\n      background #EAEAEA\n      height 20px\n      position: absolute\n      top 0\n      bottom: 0\n      right 0\n      width 1px\n      margin auto 0\n    .order-icon\n      background url('~@/assets/order_.png') no-repeat center\n      &.order-reverse\n        background url('~@/assets/_order_.png') no-repeat center\n    &.active-order\n      color #2162D2\n      .order-icon\n        background url('~@/assets/order.png') no-repeat center\n        &.order-reverse\n          background url('~@/assets/_order.png') no-repeat center\n\n  .export-table\n    margin 0 20px\n    color #2162d2\n    cursor pointer\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/report/Store.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"screen-container\"},[(_vm.isNoPower)?_c('div',{staticClass:\"screen-empty\"},[_c('img',{attrs:{\"src\":require(\"@/assets/empty_logo.gif\"),\"alt\":\"empty_logo\"}}),_vm._v(\" \"),_c('p',{staticClass:\"empty-title\"},[_vm._v(\"没有模块权限，请与管理员确认\")])]):_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"screen-body\"},[_c('div',{staticClass:\"screen-body-header\"},[_c('Select',{staticClass:\"query-select\",staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"default\",\"clearable\":true,\"placeholder\":\"门店\",\"transfer\":false,\"value\":_vm.$route.query.stores_id},on:{\"on-change\":function (value){_vm.stores_id=value}}},_vm._l((_vm.stores),function(item){return _c('Option',{key:item.stores_id,attrs:{\"value\":item.stores_id}},[_vm._v(_vm._s(item.stores_name))])})),_vm._v(\" \"),_c('Select',{staticClass:\"query-select\",staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"default\",\"clearable\":true,\"placeholder\":\"会员\",\"transfer\":false,\"value\":_vm.$route.query.user_type},on:{\"on-change\":function (value){_vm.user_type=value}}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"曾会员\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"1\"}},[_vm._v(\"会员\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"非会员\")])],1),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"default\",\"prefix\":\"ios-search\",\"placeholder\":\"姓名/ID/卡号搜索\",\"value\":_vm.$route.query.keyword},on:{\"on-change\":_vm.handleSearch}}),_vm._v(\" \"),(_vm.listData.data&&_vm.listData.data.length)?_c('a',{staticClass:\"export-table\",attrs:{\"href\":_vm.exportHref}},[_vm._v(\"导出表格\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"button-group\"},[_c('div',{staticClass:\"order-btn\",class:{'active-order':_vm.order==='positive'},on:{\"click\":_vm.positive}},[_c('span',[_vm._v(\"正序\")]),_vm._v(\" \"),_c('i',{staticClass:\"order-icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"order-btn\",class:{'active-order':_vm.order==='reverse'},on:{\"click\":_vm.reverse}},[_c('span',[_vm._v(\"倒序\")]),_vm._v(\" \"),_c('i',{staticClass:\"order-icon order-reverse\"})])])],1),_vm._v(\" \"),_c('div',{staticClass:\"screen-body-container\"},[_c('el-table',{staticClass:\"list\",staticStyle:{\"text-align\":\"center\"},attrs:{\"header-cell-style\":{'text-align': 'center'},\"height\":\"100%\",\"data\":_vm.listData.data,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"index\",\"width\":\"70\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stores_name\",\"label\":\"门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_name\",\"label\":\"会员姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"会员ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_card\",\"label\":\"卡号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_pic\",\"label\":\"头像\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(_vm.$route.query.user_type !== '2')?_c('table-image',{attrs:{\"table-image-url\":scope.row.user_pic}},[_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":scope.row.user_pic,\"alt\":\"user-avatar\"}})]):_c('span',[_vm._v(_vm._s(scope.row.user_pic))])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"exclusive\",\"label\":\"入场次数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":Number(_vm.user_type) === 2 ?\n              { path: (\"/user/report/store/\" + (scope.row.id)), query: {user_type: _vm.user_type} } :\n              { path: (\"/user/report/store/\" + (scope.row.userId)), query: {user_type: _vm.user_type} },\"active-class\":\"active-tab\"}},[_vm._v(\"\\n              \"+_vm._s(scope.row.frequency)+\"\\n            \")])]}}])})],1)],1),_vm._v(\" \"),(_vm.listData.data && _vm.listData.data.length > 0)?_c('div',{staticClass:\"screen-body-footer\"},[_c('Page',{attrs:{\"total\":Number(_vm.listData.total),\"current\":Number(_vm.listData.pageNum)+1,\"page-size\":Number(_vm.listData.pageSize),\"show-sizer\":\"\",\"show-elevator\":\"\",\"show-total\":\"\",\"transfer\":false},on:{\"on-change\":_vm.pageNumChange,\"on-page-size-change\":_vm.pageSizeChange}})],1):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e7fc1126\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/report/Store.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e7fc1126\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Store.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Store.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Store.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e7fc1126\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Store.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e7fc1126\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/report/Store.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}