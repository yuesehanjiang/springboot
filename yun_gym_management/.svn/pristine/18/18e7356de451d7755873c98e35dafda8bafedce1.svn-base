package com.yun.controller;

import java.util.HashMap;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;

import com.yun.constant.ResponseMessage;
import com.yun.pojo.UserShow;
import com.yun.service.UserShowService;
import com.yun.utils.ParameterUtil;
import com.yun.utils.ServerResponse;

@RestController
@RequestMapping("/userShow/")
public class UserShowController {

	@Autowired
	private UserShowService userShowService;
	
	/**
	 * 查询会员秀
	 * url: http://localhost:8091/userShow/listUserShowInfo
	 * @param {"pageNum":"", "pageSize":"", "gymAddr":"", "sex":"", "keyword":""}
	 * @return
	 */
	@PostMapping(value = "listUserShowInfo")
	public HashMap<String, Object> listUserShowInfo(@RequestBody ParameterUtil parameterUtil) {
		try {
			return userShowService.listUserShowInfo(parameterUtil);
		} catch (Exception e) {
			e.printStackTrace();
			return ServerResponse.build("203", ResponseMessage.exception);
		}
	}
	
	/**
	 * 删除会员秀
	 * url: http://localhost:8091/userShow/delUserShow
	 * @param {"id":""}
	 * @return
	 */
	@PostMapping(value = "delUserShow")
	public HashMap<String, Object> delUserShow(@RequestBody UserShow userShow) {
		try {
			return userShowService.delUserShow(userShow.getId()+"");
		} catch (Exception e) {
			e.printStackTrace();
			return ServerResponse.build("203", ResponseMessage.exception);
		}
	}
	
	/**
	 * 查询要修改的会员秀
	 * url: http://localhost:8091/userShow/getUserShow
	 * @param {"id":""}
	 * @return
	 */
	@PostMapping(value = "getUserShow")
	public HashMap<String, Object> getUserShow(@RequestBody UserShow userShow) {
		try {
			return userShowService.getUserShow(userShow.getId()+"");
		} catch (Exception e) {
			e.printStackTrace();
			return ServerResponse.build("203", ResponseMessage.exception);
		}
	}
	
	/**
	 * 修改会员秀
	 * url: http://localhost:8091/userShow/updateUserShow
	 * @param {"nickname":"", "image":"", "sex":"", "signature":"", "id":"", "gymAddr":""}
	 * @return
	 */
	@PostMapping(value = "updateUserShow")
	public HashMap<String, Object> updateUserShow(UserShow userShow, MultipartFile file) {
		try {
			return userShowService.updateUserShow(userShow, file);
		} catch (Exception e) {
			e.printStackTrace();
			return ServerResponse.build("203", ResponseMessage.exception);
		}
	}
	
	/**
	 * 新增会员秀
	 * url: http://localhost:8091/userShow/saveUserShow
	 * @param {"nickname":"", "sex":"", "image":"", "signature":"", "gymAddr":""}
	 * @return
	 */
	@PostMapping(value = "saveUserShow")
	public HashMap<String, Object> saveUserShow(UserShow userShow, MultipartFile file) {
		try {
			return userShowService.saveUserShow(userShow, file);
		} catch (Exception e) {
			e.printStackTrace();
			return ServerResponse.build("203", ResponseMessage.exception);
		}
	}
	
}
