webpackJsonp([5],{"8z31":function(e,t){},RCNb:function(e,t){},SGPn:function(e,t){},SXzR:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=202)}({0:function(e,t){e.exports=function(e,t,i,n,s,o){var r,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,a=e.default);var c,u="function"==typeof a?a.options:a;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId=s),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):n&&(c=n),c){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(e,t){return c.call(t),p(e,t)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:r,exports:a,options:u}}},2:function(e,t){e.exports=i("2kvA")},202:function(e,t,i){"use strict";t.__esModule=!0;var n=o(i(203)),s=o(i(206));function o(e){return e&&e.__esModule?e:{default:e}}o(i(4)).default.directive("popover",s.default),n.default.install=function(e){e.directive("popover",s.default),e.component(n.default.name,n.default)},n.default.directive=s.default,t.default=n.default},203:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(204),s=i.n(n),o=i(205),r=i(0)(s.a,o.a,!1,null,null,null);t.default=r.exports},204:function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(7),o=(n=s)&&n.__esModule?n:{default:n},r=i(2),a=i(3);t.default={name:"ElPopover",mixins:[o.default],props:{trigger:{type:String,default:"click",validator:function(e){return["click","focus","hover","manual"].indexOf(e)>-1}},openDelay:{type:Number,default:0},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"}},computed:{tooltipId:function(){return"el-popover-"+(0,a.generateId)()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;if(!t&&this.$slots.reference&&this.$slots.reference[0]&&(t=this.referenceElm=this.$slots.reference[0].elm),t&&((0,r.addClass)(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",0),i.setAttribute("tabindex",0),"click"!==this.trigger&&((0,r.on)(t,"focusin",function(){e.handleFocus();var i=t.__vue__;i&&"function"==typeof i.focus&&i.focus()}),(0,r.on)(i,"focusin",this.handleFocus),(0,r.on)(t,"focusout",this.handleBlur),(0,r.on)(i,"focusout",this.handleBlur)),(0,r.on)(t,"keydown",this.handleKeydown),(0,r.on)(t,"click",this.handleClick)),"click"===this.trigger)(0,r.on)(t,"click",this.doToggle),(0,r.on)(document,"click",this.handleDocumentClick);else if("hover"===this.trigger)(0,r.on)(t,"mouseenter",this.handleMouseEnter),(0,r.on)(i,"mouseenter",this.handleMouseEnter),(0,r.on)(t,"mouseleave",this.handleMouseLeave),(0,r.on)(i,"mouseleave",this.handleMouseLeave);else if("focus"===this.trigger){var n=!1;if([].slice.call(t.children).length)for(var s=t.childNodes,o=s.length,a=0;a<o;a++)if("INPUT"===s[a].nodeName||"TEXTAREA"===s[a].nodeName){(0,r.on)(s[a],"focusin",this.doShow),(0,r.on)(s[a],"focusout",this.doClose),n=!0;break}if(n)return;"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((0,r.on)(t,"focusin",this.doShow),(0,r.on)(t,"focusout",this.doClose)):((0,r.on)(t,"mousedown",this.doShow),(0,r.on)(t,"mouseup",this.doClose))}},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){(0,r.addClass)(this.referenceElm,"focusing"),"manual"!==this.trigger&&(this.showPopper=!0)},handleClick:function(){(0,r.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){(0,r.removeClass)(this.referenceElm,"focusing"),"manual"!==this.trigger&&(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){e.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.showPopper=!1},200)},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!t&&this.$slots.reference&&this.$slots.reference[0]&&(t=this.referenceElm=this.$slots.reference[0].elm),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&i&&!i.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()}},destroyed:function(){var e=this.reference;(0,r.off)(e,"click",this.doToggle),(0,r.off)(e,"mouseup",this.doClose),(0,r.off)(e,"mousedown",this.doShow),(0,r.off)(e,"focusin",this.doShow),(0,r.off)(e,"focusout",this.doClose),(0,r.off)(e,"mouseleave",this.handleMouseLeave),(0,r.off)(e,"mouseenter",this.handleMouseEnter),(0,r.off)(document,"click",this.handleDocumentClick)}}},205:function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),e._t("reference")],2)},staticRenderFns:[]};t.a=n},206:function(e,t,i){"use strict";t.__esModule=!0;var n=function(e,t,i){var n=t.expression?t.value:t.arg,s=i.context.$refs[n];s&&(Array.isArray(s)?s[0].$refs.reference=e:s.$refs.reference=e)};t.default={bind:function(e,t,i){n(e,t,i)},inserted:function(e,t,i){n(e,t,i)}}},3:function(e,t){e.exports=i("ylDJ")},4:function(e,t){e.exports=i("lRwf")},7:function(e,t){e.exports=i("fKx3")}})},UtiU:function(e,t){},XYk9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("8z31"),i("+BTi");var n=i("SXzR"),s=i.n(n),o=i("+evR"),r=i("aCuj"),a=i("+lfT"),l=i("5HJ5"),c=i("O4Lo"),u=i.n(c),d=i("SJI6"),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f={components:{PictureList:o.a,PictureDetail:r.a,Popover:s.a},mixins:[l.a],data:function(){return{query:{},isLoading:!1,listData:[],picture:!1,page:{pageNum:1,pageSize:10,total:0}}},computed:{sex:function(){switch(this.$route.params.type){case"all":return 1;case"male":return 2;case"female":return 3}}},methods:p({handleClick:function(e){this.picture=e},handleAgree:function(e){var t=this;this.$confirm({mode:"longText",title:"确定提示",brief:"确定同意后，终端机会员秀将同步显示该照片信息！ 且审核结果不可修改！！",confirmText:"确定同意",confirm:function(i){i.loading=!0,Object(a.h)({id:e}).then(function(e){200===Number(e.code)?(i.destroy(),t.listRefresh(),t.getApprovalNum()):(i.loading=!1,t.$message({message:e.message,type:"warning"}))})}})},handleRefuse:function(e){var t=this;this.$confirm({mode:"longText",title:"确定提示",brief:"确定拒绝后，终端机会员秀将不显示该照片信息！ 且审核结果不可修改！！",confirmText:"确定拒绝",confirm:function(i){i.loading=!0,Object(a.i)({id:e}).then(function(e){200===Number(e.code)?(i.destroy(),t.listRefresh(),t.getApprovalNum()):(i.loading=!1,t.$message({message:e.message,type:"warning"}))})}})},handleDelete:function(e){var t=this;this.$confirm({title:"确定提示",brief:"确定删除此审核记录吗？",confirm:function(i){i.loading=!0,Object(a.b)({id:e}).then(function(e){200===Number(e.code)?(i.destroy(),t.listRefresh()):(i.loading=!1,t.$message({message:e.message,type:"warning"}))})}})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isLoading=!0;var i={type:this.$route.params.type,pageSize:10,pageNum:1,keyword:""};this.query=Object.assign({},i,t),Object(a.d)(this.query).then(function(t){200===Number(t.code)?(e.listData=t.data,t.pageNum&&(e.page.pageNum=Number(t.pageNum)),t.pageSize&&(e.page.pageSize=Number(t.pageSize)),t.total&&(e.page.total=Number(t.total))):(e.listData=[],e.$message({message:t.message,type:"warning"}))}).finally(function(){e.isLoading=!1})},handleSearch:u()(function(e){this.listQuery({keyword:e.target.value,pageNum:1})},1e3),handleExamine:function(e){this.listQuery({examine:e,pageNum:1})},pageNumChange:function(e){this.listQuery({pageNum:String(e)})},pageSizeChange:function(e){this.listQuery({pageSize:String(e)})}},Object(d.mapActions)(["getApprovalNum"]))},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("PageBody",{staticStyle:{padding:"0"}},[i("div",{staticClass:"list-container"},[i("ul",{staticClass:"list-type"},[i("router-link",{attrs:{tag:"li",to:"/show/approval/waiting","active-class":"primary-color"}},[e._v("待审核")]),e._v(" "),i("router-link",{attrs:{tag:"li",to:"/show/approval/finish","active-class":"primary-color"}},[e._v("已审核")])],1),e._v(" "),i("div",{staticClass:"query-body"},["finish"===e.$route.params.type?i("Select",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{clearable:!0,value:e.$route.query.examine},on:{"on-change":e.handleExamine}},[i("Option",{attrs:{value:"1"}},[e._v("已同意")]),e._v(" "),i("Option",{attrs:{value:"2"}},[e._v("已拒绝")])],1):e._e(),e._v(" "),i("Input",{staticStyle:{width:"200px"},attrs:{size:"default",prefix:"ios-search",placeholder:"昵称／个签关键字搜索",clearable:!0,value:e.$route.query.keyword},on:{"on-change":e.handleSearch}})],1),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"list-body"},[e.listData.length?i("div",{staticClass:"list-table"},[i("el-table",{staticStyle:{"text-align":"center"},attrs:{"header-cell-style":{"text-align":"center"},height:"100%",data:e.listData,border:""},on:{"row-click":e.handleClick}},[i("el-table-column",{attrs:{prop:"index",width:"92",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("Popover",{attrs:{"popper-class":"image-popover",trigger:"hover"}},[i("img",{staticClass:"list-image",attrs:{slot:"reference",src:t.row.image},slot:"reference"}),e._v(" "),i("img",{staticClass:"hover-image",attrs:{src:t.row.image}})])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"nickname",label:"用户昵称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"signature",width:"206",label:"个签（36个字符）"},scopedSlots:e._u([{key:"default",fn:function(t){return[String(t.row.signature).length>12?i("div",[i("Popover",{attrs:{"popper-class":"image-popover",trigger:"hover"}},[i("div",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(String(t.row.signature).substr(0,12))+"...")]),e._v(" "),i("div",{staticStyle:{"max-width":"240px","word-break":"break-all"}},[e._v(e._s(t.row.signature))])])],1):i("div",[e._v(e._s(t.row.signature))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"createTime",width:"173",label:"提交时间"}}),e._v(" "),i("el-table-column",{attrs:{prop:"sex",width:"64",label:"性别"}}),e._v(" "),"waiting"===e.$route.params.type?i("el-table-column",{attrs:{width:"118",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"operate-btn primary-color",on:{click:function(i){i.stopPropagation(),e.handleAgree(t.row.id)}}},[e._v("同意")]),e._v(" "),i("span",{staticClass:"operate-btn delete-btn",on:{click:function(i){i.stopPropagation(),e.handleRefuse(t.row.id)}}},[e._v("拒绝")])]}}])}):e._e(),e._v(" "),"finish"===e.$route.params.type?i("el-table-column",{attrs:{width:"118",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===Number(t.row.examine)?i("span",{staticStyle:{color:"#A8A8A8"}},[e._v("待审核")]):e._e(),e._v(" "),1===Number(t.row.examine)?i("span",{staticStyle:{color:"#A8A8A8"}},[e._v("已同意")]):e._e(),e._v(" "),2===Number(t.row.examine)?i("span",{staticStyle:{color:"#A8A8A8"}},[e._v("已拒绝")]):e._e(),e._v(" "),i("span",{staticClass:"operate-btn delete-btn",on:{click:function(i){i.stopPropagation(),e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])}):e._e()],1)],1):i("p",{staticClass:"empty-list"},[e.$route.query.keyword?i("span",[e._v("没有匹配信息")]):i("span",[e._v("暂无数据")])])]),e._v(" "),i("div",{staticClass:"paging-body"},[i("Page",{attrs:{total:this.page.total,current:this.page.pageNum,"page-size":this.page.pageSize,"show-elevator":"","show-total":"","show-sizer":"",transfer:!1},on:{"on-change":e.pageNumChange,"on-page-size-change":e.pageSizeChange}})],1),e._v(" "),i("PictureDetail",{attrs:{visible:e.picture},on:{close:function(t){e.picture=!1}}})],1)])},staticRenderFns:[]};var g=i("VU/8")(f,h,!1,function(e){i("SGPn"),i("UtiU")},"data-v-a97d0e8e",null);t.default=g.exports},aCuj:function(e,t,i){"use strict";var n={props:{visible:[Boolean,Object]},watch:{visible:function(){this.visible&&(this.record=this.visible)}},computed:{picture:function(){return this.visible?this.visible:this.record},signature:function(){var e=!1;return this.picture&&this.picture.signature&&(e=this.picture.signature.length>36?this.picture.signature.substr(0,36)+"...":this.picture.signature),e}},data:function(){return{isReady:!1,record:{}}},mounted:function(){document.getElementsByClassName("layout-body")[0].appendChild(this.$el),this.isReady=!0},destroyed:function(){this.$el.parentNode.removeChild(this.$el)},methods:{handleClose:function(){this.$emit("close")}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isReady&&e.visible,expression:"isReady&&visible"}],staticClass:"detail-container",on:{click:e.handleClose}},[i("div",{staticClass:"detail-box",on:{click:function(e){e.stopPropagation()}}},[i("i",{staticClass:"detail-close-btn",on:{click:e.handleClose}}),e._v(" "),i("img",{staticClass:"detail-img",attrs:{src:e.picture.image,alt:""}}),e._v(" "),i("div",{staticClass:"detail-describe"},[i("p",{staticClass:"detail-name"},[e._v(e._s(e.picture.nickname))]),e._v(" "),e.signature?i("span",[e._v(e._s(e.signature))]):i("span",{staticStyle:{color:"#c3c3c3"}},[e._v("默认：这个人很懒，什么都没留下")])])])])])},staticRenderFns:[]};var o=i("VU/8")(n,s,!1,function(e){i("RCNb")},"data-v-cb8fed0a",null);t.a=o.exports}});
//# sourceMappingURL=5.7be5c4516b6537d3d6c7.js.map